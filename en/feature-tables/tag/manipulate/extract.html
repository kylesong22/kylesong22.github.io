<!DOCTYPE html>
<html lang="en" class="no-js">
  <!-- Copyright 2019-2021 Vanessa Sochat-->
  <head>
    <meta charset="utf-8">
    <!-- Copyright 2019-2021 Vanessa Sochat-->
    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="generator" content="Hugo 0.55.6" />
    
    <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
    
    <link rel="alternate" type="application/rss&#43;xml" href="/docs/index.xml">
    
    <link rel="shortcut icon" href="/en/assets/favicons/favicon.ico" >
    <!-- <link rel="apple-touch-icon" href="/en/assets/favicons/apple-touch-icon-180x180.png" sizes="180x180">
    <link rel="icon" type="image/png" href="/en/assets/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/en/assets/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/en/assets/favicons/android-icon-36x36.png" sizes="36x36">
    <link rel="icon" type="image/png" href="/en/assets/favicons/android-icon-48x48.png" sizes="48x48">
    <link rel="icon" type="image/png" href="/en/assets/favicons/android-icon-72x72.png" sizes="72x72">
    <link rel="icon" type="image/png" href="/en/assets/favicons/android-icon-96x196.png" sizes="96x196">
    <link rel="icon" type="image/png" href="/en/assets/favicons/android-icon-144x144.png" sizes="144x144">
    <link rel="icon" type="image/png" href="/en/assets/favicons/android-icon-192x192.png"sizes="192x192"> -->
    
    <title>Extract tag data</title>
    <meta property="og:title" content="Extract tag data" />
    <meta property="og:description" content="machbase-manual documents.
" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="" />
    <meta property="og:site_name" content="" />
    
    <meta itemprop="name" content="Extract tag data">
    <meta itemprop="description" content="machbase-manual documents.
">
    
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="Extract tag data"/>
    <meta name="twitter:description" content="machbase-manual documents.
"/>
    
    <link rel="stylesheet" href="/en/assets/css/main.css">
    <link rel="stylesheet" href="/en/assets/css/palette.css">
    <script
      src="/en/assets/js/jquery-3.3.1/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8= sha256-T+aPohYXbm0fRYDpJLr+zJ9RmYTswGsahAoIsNiMld4="
      crossorigin="anonymous"></script>
    </head>
  

  
  <body class="td-section">
    <header>
    <nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
    <a class="navbar-brand" href="/en/">
        <span class="navbar-logo"></span><span class="text-uppercase font-weight-bold"><img src="/en/assets/img/logo.png" alt="Machbase manual"></span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
    <ul class="navbar-nav mt-2 mt-lg-0">
        <li class="nav-item mr-4 mb-2 mb-lg-0">
                        <!-- <a class="nav-link" href="https://github.com/machbase/dbms-manual" target="_blank"><span>GitHub</span></a> -->
        </li>
        <li class="nav-item mr-4 mb-2 mb-lg-0">
                        <!-- <a class="nav-link" href="/en/about" ><span>About</span></a> -->
        </li>
        <li class="nav-item mr-4 mb-2 mb-lg-0">
                        <!-- <a class="nav-link" href="/en/docs" ><span>Documentation</span></a> -->
        </li>
  <!--  -->
  <!-- <li class="nav-item mr-4 mb-2 mb-lg-0"> -->
    <!-- 
      <span class="nav-link ">Release:</span>
    
    <li class="nav-item dropdown d-none d-lg-block">
      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Current</a>
      <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
        
        
          
            <a class="dropdown-item" href="/en/feature-tables/tag/manipulate/extract.html">Current</a>
          
        
        
          
            
            <a class="dropdown-item" href="/en/feature-tables/tag/manipulate/extract.html">Previous</a>
          
         -->
      </div>
    </li>
  <!-- </li> -->
  
    </ul>
</div>
<div class="navbar-nav d-none d-lg-block">
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="on">
    </div>

<!-- <div class="navbar-nav d-none d-lg-block">
      <a class="gh-source" data-gh-source="github" href="https://github.com/machbase/dbms-manual" title="Go to repository" data-md-state="done">
      <div class="gh-source__repository">
        <i class="fab fa fa-github fa-2x" style='padding-right:20px; float:left; margin-top:5px'></i>
        machbase/dbms-manual
      <ul class="gh-source__facts"><li class="gh-source__fact" id='stars'></li><li id="forks" class="gh-source__fact"></li></ul></div></a>
    </div> -->
  </div>


</nav>
</header>

<script>
$(document).ready(function() {
var url = "https://api.github.com/search/repositories?q=machbase/dbms-manual";
fetch(url, { 
  headers: {"Accept":"application/vnd.github.preview"}
}).then(function(e) {
return e.json()
}).then(function(r) {
 console.log(r.items[0])
 stars = r.items[0]['stargazers_count']
 forks = r.items[0]['forks_count']
 $('#stars').text(stars + " Stars")
 $('#forks').text(forks + " Forks")
});
});
</script>

    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
          <div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    <input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">
    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation"></button>
  </form>  
  
  <nav class="collapse td-sidebar-nav pt-2 pl-4" id="td-section-nav">
    
      <ul class="td-sidebar-nav__section pr-md-3">
        
        
      
        <li class="td-sidebar-nav__section-title">
          <a href="" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Machbase Manual</a>
        </li>
        
        
          <ul>
            <li class="collapse show" id="machbase-manual">
              <ul class="td-sidebar-nav__section pr-md-3">
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">Introduction</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="introduction">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-introduction-introduction-of-machbase" href="/en//intro/introduction">Introduction of Machbase</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-introduction-machbase-features" href="/en//intro/features">Machbase Features</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-introduction-introduction-of-machbase-products" href="/en//intro/products">Introduction of Machbase Products</a>
                        
                      </li>
                    </ul>
                  
                  
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">Installation</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="installation">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-installation-package-overview" href="/en//install/package">Package Overview</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-installation-linux-installation" href="/en//install/linux">Linux Installation</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-installation-windows-installation" href="/en//install/windows">Windows Installation</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-installation-license-installation" href="/en//install/license">License Installation</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-installation-cluster-edition-installation" href="/en//install/cluster">Cluster Edition Installation</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-installation-upgrade" href="">Upgrade</a>
                        
                      </li>
                    </ul>
                  
                  
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">Feature and Tables</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="feature-and-tables">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-feature-and-tables-tag-table" href="/en//feature-tables/tag">Tag Table</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-feature-and-tables-log-table" href="/en//feature-tables/log">Log Table</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-feature-and-tables-volatile-table" href="/en//feature-tables/volatile">Volatile Table</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-feature-and-tables-lookup-table" href="/en//feature-tables/lookup">Lookup Table</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-feature-and-tables-stream" href="/en//feature-tables/stream">STREAM</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-feature-and-tables-backup-and-mount" href="/en//feature-tables/backup-mount">Backup and Mount</a>
                        
                      </li>
                    </ul>
                  
                  
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">Config/Monitoring</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="config-monitoring">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-config-monitoring-meta-table" href="/en//config-monitor/metatable">Meta Table</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-config-monitoring-virtual-table" href="/en//config-monitor/virtualtable">Virtual Table</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-config-monitoring-property" href="/en//config-monitor/property">Property</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-config-monitoring-property-cluster" href="/en//config-monitor/property-cluster">Property(Cluster)</a>
                        
                      </li>
                    </ul>
                  
                  
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">SQL Reference</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="sql-reference">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-sql-reference-datatypes" href="/en//sql-ref/datatypes">Datatypes</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-sql-reference-ddl" href="/en//sql-ref/ddl">DDL</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-sql-reference-dml" href="/en//sql-ref/dml">DML</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-sql-reference-select" href="/en//sql-ref/select">SELECT</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-sql-reference-select-hint" href="/en//sql-ref/select-hint">SELECT Hint</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-sql-reference-user-management" href="/en//sql-ref/user-manage">User Management</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-sql-reference-functions" href="/en//sql-ref/func">Functions</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-sql-reference-system-session-management" href="/en//sql-ref/sys-session-manage">System/Session Management</a>
                        
                      </li>
                    </ul>
                  
                  
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">SDK</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="sdk">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-sdk-cli-odbc" href="/en//sdk/cli-odbc">CLI/ODBC</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-sdk-cli-odbc-example" href="/en//sdk/cli-odbc-example">CLI/ODBC Example</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-sdk-jdbc" href="/en//sdk/jdbc">JDBC</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-sdk-python" href="/en//sdk/python">Python</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-sdk-net-connector" href="/en//sdk/dotnet">.Net Connector</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-sdk-restfull-api" href="/en//sdk/restful">RESTfull API</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-sdk-timezone" href="/en//sdk/timezone">Timezone</a>
                        
                      </li>
                    </ul>
                  
                  
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">Tools</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="tools">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-tools-utilities" href="/en//tools/utils">Utilities</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-tools-machcoordinatoradmin" href="/en//tools/machcoordinatoradmin">machcoordinatoradmin</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-tools-machdeployeradmin" href="/en//tools/machdeployeradmin">machdeployeradmin</a>
                        
                      </li>
                    </ul>
                  
                  
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">FAQ</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="faq">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-machbase-manual-faq-how-to-fix-properties-when-an-insufficient-memory-error-occurs" href="/en//faq/memory-error">How to fix properties when an insufficient memory error occurs</a>
                        
                      </li>
                    </ul>
                  
                  
                
              </ul>
            </li>
          </ul>
        
        
      </ul>
    
  </nav>
</div>

          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
              <div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
              </div>
              <nav id="TableOfContents"><ul>
              <li><ul id="TOC">
                <!-- Links will be appended here-->
              </ul></li>
              </ul></nav>
          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	      <ol class="breadcrumb spb-1">
              
              
                
                  
                    
                      
                      <li class="breadcrumb-item">
                        <a href="/en/feature-tables/">Feature tables</a>
                      </li>
                      
                    
                  
                
              
                
                  
                    
                      
                      <li class="breadcrumb-item">
                        <a href="/en/feature-tables/tag/">Tag</a>
                      </li>
                      
                    
                  
                
              
                
                  
                    
                      
                      <li class="breadcrumb-item">
                        <a href="/en/feature-tables/tag/manipulate/">Manipulate</a>
                      </li>
                      
                    
                  
                
              
                
                  
                    <li class="breadcrumb-item active" aria-current="page">
                      <a href="/en/feature-tables/tag/manipulate/extract.html">Extract tag data</a>
                    </li>
                  
                
              
	      </ol>
           </nav>
           <div class="td-content">        
            
              
            
            
	      <!-- Copyright 2019-2021 Vanessa Sochat-->
<h1 style="margin-bottom:0px">Extract tag data</h1>

<span class="post-date" style="font-style: italic;"></span>
<h1 id="index">Index</h1>

<ul>
  <li><a href="#sample-schema">Sample Schema</a></li>
  <li><a href="#extract-all-tag-data">Extract all TAG data</a></li>
  <li><a href="#extract-data-for-a-specific-tag-name">Extract data for a specific tag name</a></li>
  <li><a href="#query-for-time-range">Query for time range</a></li>
  <li><a href="#time-range-search-for-multiple-tags">Time range search for multiple tags</a></li>
  <li><a href="#search-data-over-a-certain-value">Search data over a certain value</a></li>
  <li><a href="#display-statistical-information-by-specific-tag-id">Display Statistical Information By Specific Tag ID</a></li>
  <li><a href="#extraction-by-using-restful-api">Extraction by Using RESTful API</a>
    <ul>
      <li><a href="#prepare-for-restful-api">Prepare for RESTful API</a></li>
      <li><a href="#restful-api-calling-convention">RESTful API calling convention</a></li>
      <li><a href="#sample-for-fetching-single-tag-data-by-using-curl">Sample for Fetching single tag data by using CURL</a></li>
      <li><a href="#fetching-multi-tag-data-by-using-curl">fetching multi tag data by using CURL</a></li>
    </ul>
  </li>
  <li><a href="#specifying-the-search-direction-using-hints">Specifying the search direction using hints</a>
    <ul>
      <li><a href="#forward-search">Forward Search</a></li>
      <li><a href="#backward-search">Backward Search</a></li>
      <li><a href="#setting-basic-scan-direction-property">Setting basic scan direction property</a></li>
    </ul>
  </li>
</ul>

<p>Machbase provides high-speed tag data extraction, especially for the time range of a specific tag.</p>

<h1 id="sample-schema">Sample Schema</h1>

<p>In the following example, we created a TAG table and created two tags as shown below.</p>

<p>For each tag, data from January 1, 2018 to February 10, 2018 were inserted.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">create</span> <span class="n">tag</span> <span class="k">table</span> <span class="n">TAG</span> <span class="p">(</span><span class="n">name</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span> <span class="nb">time</span> <span class="nb">datetime</span> <span class="n">basetime</span><span class="p">,</span> <span class="n">value</span> <span class="nb">double</span> <span class="n">summarized</span><span class="p">);</span>
 
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="n">metadata</span> <span class="k">values</span> <span class="p">(</span><span class="s1">'TAG_0001'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="n">metadata</span> <span class="k">values</span> <span class="p">(</span><span class="s1">'TAG_0002'</span><span class="p">);</span>
 
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0001'</span><span class="p">,</span> <span class="s1">'2018-01-01 01:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0001'</span><span class="p">,</span> <span class="s1">'2018-01-02 02:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0001'</span><span class="p">,</span> <span class="s1">'2018-01-03 03:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0001'</span><span class="p">,</span> <span class="s1">'2018-01-04 04:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0001'</span><span class="p">,</span> <span class="s1">'2018-01-05 05:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0001'</span><span class="p">,</span> <span class="s1">'2018-01-06 06:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0001'</span><span class="p">,</span> <span class="s1">'2018-01-07 07:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0001'</span><span class="p">,</span> <span class="s1">'2018-01-08 08:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">8</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0001'</span><span class="p">,</span> <span class="s1">'2018-01-09 09:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">9</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0001'</span><span class="p">,</span> <span class="s1">'2018-01-10 10:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
 
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0002'</span><span class="p">,</span> <span class="s1">'2018-02-01 01:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">11</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0002'</span><span class="p">,</span> <span class="s1">'2018-02-02 02:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">12</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0002'</span><span class="p">,</span> <span class="s1">'2018-02-03 03:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">13</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0002'</span><span class="p">,</span> <span class="s1">'2018-02-04 04:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">14</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0002'</span><span class="p">,</span> <span class="s1">'2018-02-05 05:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">15</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0002'</span><span class="p">,</span> <span class="s1">'2018-02-06 06:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0002'</span><span class="p">,</span> <span class="s1">'2018-02-07 07:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">17</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0002'</span><span class="p">,</span> <span class="s1">'2018-02-08 08:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">18</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0002'</span><span class="p">,</span> <span class="s1">'2018-02-09 09:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">19</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">tag</span> <span class="k">values</span><span class="p">(</span><span class="s1">'TAG_0002'</span><span class="p">,</span> <span class="s1">'2018-02-10 10:00:00 000:000:000'</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>
</code></pre></div></div>

<h1 id="extract-all-tag-data">Extract all TAG data</h1>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Mach&gt; <span class="k">select</span> <span class="k">*</span> from tag<span class="p">;</span>
NAME TIME VALUE
<span class="nt">--------------------------------------------------------------------------------------</span>
TAG_0001 2018-01-01 01:00:00 000:000:000 1
TAG_0001 2018-01-02 02:00:00 000:000:000 2
TAG_0001 2018-01-03 03:00:00 000:000:000 3
TAG_0001 2018-01-04 04:00:00 000:000:000 4
TAG_0001 2018-01-05 05:00:00 000:000:000 5
TAG_0001 2018-01-06 06:00:00 000:000:000 6
TAG_0001 2018-01-07 07:00:00 000:000:000 7
TAG_0001 2018-01-08 08:00:00 000:000:000 8
TAG_0001 2018-01-09 09:00:00 000:000:000 9
TAG_0001 2018-01-10 10:00:00 000:000:000 10
TAG_0002 2018-02-01 01:00:00 000:000:000 11
TAG_0002 2018-02-02 02:00:00 000:000:000 12
TAG_0002 2018-02-03 03:00:00 000:000:000 13
TAG_0002 2018-02-04 04:00:00 000:000:000 14
TAG_0002 2018-02-05 05:00:00 000:000:000 15
TAG_0002 2018-02-06 06:00:00 000:000:000 16
TAG_0002 2018-02-07 07:00:00 000:000:000 17
TAG_0002 2018-02-08 08:00:00 000:000:000 18
TAG_0002 2018-02-09 09:00:00 000:000:000 19
TAG_0002 2018-02-10 10:00:00 000:000:000 20
<span class="o">[</span>20] row<span class="o">(</span>s<span class="o">)</span> selected.
</code></pre></div></div>

<p>If there is no special condition as described above, data can be extracted for each tag arranged in each time order.</p>

<h1 id="extract-data-for-a-specific-tag-name">Extract data for a specific tag name</h1>

<p>Below is an example of data with TAG name TAG_0002.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">tag</span> <span class="k">where</span> <span class="n">name</span><span class="o">=</span><span class="s1">'TAG_0002'</span><span class="p">;</span>
<span class="n">NAME</span>                  <span class="nb">TIME</span>                            <span class="n">VALUE</span>                      
<span class="c1">--------------------------------------------------------------------------------------</span>
<span class="n">TAG_0002</span>              <span class="mi">2018</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">01</span> <span class="mi">01</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="mi">000</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">11</span>                         
<span class="n">TAG_0002</span>              <span class="mi">2018</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">02</span> <span class="mi">02</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="mi">000</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">12</span>                         
<span class="n">TAG_0002</span>              <span class="mi">2018</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">03</span> <span class="mi">03</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="mi">000</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">13</span>                         
<span class="n">TAG_0002</span>              <span class="mi">2018</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">04</span> <span class="mi">04</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="mi">000</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">14</span>                         
<span class="n">TAG_0002</span>              <span class="mi">2018</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">05</span> <span class="mi">05</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="mi">000</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">15</span>                         
<span class="n">TAG_0002</span>              <span class="mi">2018</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">06</span> <span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="mi">000</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">16</span>                         
<span class="n">TAG_0002</span>              <span class="mi">2018</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">07</span> <span class="mi">07</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="mi">000</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">17</span>                         
<span class="n">TAG_0002</span>              <span class="mi">2018</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">08</span> <span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="mi">000</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">18</span>                         
<span class="n">TAG_0002</span>              <span class="mi">2018</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">09</span> <span class="mi">09</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="mi">000</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">19</span>                         
<span class="n">TAG_0002</span>              <span class="mi">2018</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">10</span> <span class="mi">10</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="mi">000</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">20</span>                         
<span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
</code></pre></div></div>

<h1 id="query-for-time-range">Query for time range</h1>

<p>The following is a query of a time range for TAG_0002 and receives data.</p>

<blockquote>
  <p><img src="/icons/tips.png" alt="tips" /> It is common to give time range by using between clause. Of course, using ‘&lt;’ or ‘&gt;’ to get time range will get same result.</p>
</blockquote>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Mach&gt; <span class="k">select</span> <span class="k">*</span> from tag where name <span class="o">=</span> <span class="s1">'TAG_0002'</span> and <span class="nb">time </span>between to_date<span class="o">(</span><span class="s1">'2018-02-01'</span><span class="o">)</span> and to_date<span class="o">(</span><span class="s1">'2018-02-05'</span><span class="o">)</span><span class="p">;</span>
NAME                  TIME                            VALUE                      
<span class="nt">--------------------------------------------------------------------------------------</span>
TAG_0002              2018-02-01 01:00:00 000:000:000 11                         
TAG_0002              2018-02-02 02:00:00 000:000:000 12                         
TAG_0002              2018-02-03 03:00:00 000:000:000 13                         
TAG_0002              2018-02-04 04:00:00 000:000:000 14                         
<span class="o">[</span>4] row<span class="o">(</span>s<span class="o">)</span> selected.
 
Mach&gt; <span class="k">select</span> <span class="k">*</span> from tag where name <span class="o">=</span> <span class="s1">'TAG_0002'</span> and <span class="nb">time</span> <span class="o">&gt;</span> to_date<span class="o">(</span><span class="s1">'2018-02-01'</span><span class="o">)</span> and <span class="nb">time</span> &lt; to_date<span class="o">(</span><span class="s1">'2018-02-05'</span><span class="o">)</span><span class="p">;</span>
NAME                  TIME                            VALUE                      
<span class="nt">--------------------------------------------------------------------------------------</span>
TAG_0002              2018-02-01 01:00:00 000:000:000 11                         
TAG_0002              2018-02-02 02:00:00 000:000:000 12                         
TAG_0002              2018-02-03 03:00:00 000:000:000 13                         
TAG_0002              2018-02-04 04:00:00 000:000:000 14                         
<span class="o">[</span>4] row<span class="o">(</span>s<span class="o">)</span> selected.
</code></pre></div></div>

<h1 id="time-range-search-for-multiple-tags">Time range search for multiple tags</h1>

<p>Below is an example of retrieving the same time range data for two or more tags.</p>

<p>If you want to get fast results for a large number of tags at the same time, it is preferable to perform the following type of query.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Mach&gt; <span class="k">select</span> <span class="k">*</span> from tag where name <span class="k">in</span> <span class="o">(</span><span class="s1">'TAG_0002'</span>, <span class="s1">'TAG_0001'</span><span class="o">)</span> and <span class="nb">time </span>between to_date<span class="o">(</span><span class="s1">'2018-01-05'</span><span class="o">)</span> and to_date<span class="o">(</span><span class="s1">'2018-02-05'</span><span class="o">)</span><span class="p">;</span>
NAME                  TIME                            VALUE                      
<span class="nt">--------------------------------------------------------------------------------------</span>
TAG_0001              2018-01-05 05:00:00 000:000:000 5                          
TAG_0001              2018-01-06 06:00:00 000:000:000 6                          
TAG_0001              2018-01-07 07:00:00 000:000:000 7                          
TAG_0001              2018-01-08 08:00:00 000:000:000 8                          
TAG_0001              2018-01-09 09:00:00 000:000:000 9                          
TAG_0001              2018-01-10 10:00:00 000:000:000 10                         
TAG_0002              2018-02-01 01:00:00 000:000:000 11                         
TAG_0002              2018-02-02 02:00:00 000:000:000 12                         
TAG_0002              2018-02-03 03:00:00 000:000:000 13                         
TAG_0002              2018-02-04 04:00:00 000:000:000 14                         
<span class="o">[</span>10] row<span class="o">(</span>s<span class="o">)</span> selected.
</code></pre></div></div>

<h1 id="search-data-over-a-certain-value">Search data over a certain value</h1>

<p>The conditions for the tag value can also be given as follows.</p>

<p>Filtering was performed for those values greater than 12 and less than 15 among the values of TAG_0002.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Mach&gt; <span class="k">select</span> <span class="k">*</span> from tag where name <span class="o">=</span> <span class="s1">'TAG_0002'</span> and value <span class="o">&gt;</span> 12 and value &lt; 15 and <span class="nb">time </span>between to_date<span class="o">(</span><span class="s1">'2018-02-01'</span><span class="o">)</span> and to_date<span class="o">(</span><span class="s1">'2018-02-05'</span><span class="o">)</span><span class="p">;</span>
NAME                  TIME                            VALUE                      
<span class="nt">--------------------------------------------------------------------------------------</span>
TAG_0002              2018-02-03 03:00:00 000:000:000 13                         
TAG_0002              2018-02-04 04:00:00 000:000:000 14                         
<span class="o">[</span>2] row<span class="o">(</span>s<span class="o">)</span> selected.
</code></pre></div></div>

<h1 id="display-statistical-information-by-specific-tag-id">Display Statistical Information By Specific Tag ID</h1>

<p>When we create tag table, virtual table that aggregate simple statistic information by tag table’s tag ID is created.</p>

<p>virtual table name is v${tag table name}_stat.</p>

<p>If user uses that table, user can get tag table’s statistic information quickly.</p>

<p>Statistical information target column is automatically designated as the third column.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Mach&gt; CREATE TAG TABLE tag <span class="o">(</span>name VARCHAR<span class="o">(</span>20<span class="o">)</span> PRIMARY KEY, <span class="nb">time </span>DATETIME BASETIME, value DOUBLE SUMMARIZED<span class="o">)</span><span class="p">;</span>
Executed successfully.
 
Mach&gt; DESC v<span class="nv">$tag_stat</span><span class="p">;</span>
<span class="o">[</span> COLUMN <span class="o">]</span>                             
<span class="nt">----------------------------------------------------------------------------------------------------</span>
NAME                                                        NULL?    TYPE                LENGTH       
<span class="nt">----------------------------------------------------------------------------------------------------</span>
NAME                                                                 varchar             100                
ROW_COUNT                                                            ulong               20                 
MIN_TIME                                                             datetime            31             
MAX_TIME                                                             datetime            31             
MIN_VALUE                                                            double              17                 
MIN_VALUE_TIME                                                       datetime            31             
MAX_VALUE                                                            double              17                 
MAX_VALUE_TIME                                                       datetime            31             
RECENT_ROW_TIME                                                      datetime            31
</code></pre></div></div>

<p>If there is no SUMMARIZED keyword in the third column, VALUE-related information (MIN_VALUE, MAX_VALUE, MIN_VALUE_TIME, MAX_VALUE_TIME) is not saved.</p>

<p>Statistic information that is colleced is as follow.</p>

<table>
  <thead>
    <tr>
      <th>Column name</th>
      <th>Information</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>NAME</td>
      <td>Tag ID’s name</td>
    </tr>
    <tr>
      <td>ROW_COUNT</td>
      <td>Number of Rows</td>
    </tr>
    <tr>
      <td>MIN_TIME</td>
      <td>The smallest basetime column value among the corresponding tag ID rows</td>
    </tr>
    <tr>
      <td>MAX_TIME</td>
      <td>The biggest basetime column value among the corresponding tag ID rows</td>
    </tr>
    <tr>
      <td>MIN_VALUE</td>
      <td>The smallest summarized column value among the corresponding tag ID rows</td>
    </tr>
    <tr>
      <td>MIN_VALUE_TIME</td>
      <td>The basetime column value that is inserted with MIN_VALUE</td>
    </tr>
    <tr>
      <td>MAX_VALUE</td>
      <td>The biggest summarized column value among the corresponding tag ID rows</td>
    </tr>
    <tr>
      <td>MAX_VALUE_TIME</td>
      <td>The basetime column value that is inserted with MAX_VALUE</td>
    </tr>
    <tr>
      <td>RECENT_ROW_TIME</td>
      <td>The basetime column value that is inserted most recently</td>
    </tr>
  </tbody>
</table>

<p>Example of select is as follow.</p>

<ol>
  <li>When a SUMMARIZED column exists</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Mach&gt; CREATE TAG TABLE tag <span class="o">(</span>name VARCHAR<span class="o">(</span>20<span class="o">)</span> PRIMARY KEY, <span class="nb">time </span>DATETIME BASETIME, value DOUBLE SUMMARIZED<span class="o">)</span><span class="p">;</span>
Executed successfully.
  
Mach&gt; INSERT INTO tag VALUES<span class="o">(</span><span class="s1">'tag-0'</span>, TO_DATE<span class="o">(</span><span class="s1">'2021-08-12'</span><span class="o">)</span>, 10<span class="o">)</span><span class="p">;</span>
Mach&gt; INSERT INTO tag VALUES<span class="o">(</span><span class="s1">'tag-0'</span>, TO_DATE<span class="o">(</span><span class="s1">'2021-08-13'</span><span class="o">)</span>, 10<span class="o">)</span><span class="p">;</span>
Mach&gt; INSERT INTO tag VALUES<span class="o">(</span><span class="s1">'tag-0'</span>, TO_DATE<span class="o">(</span><span class="s1">'2021-08-14'</span><span class="o">)</span>, 20<span class="o">)</span><span class="p">;</span>
Mach&gt; INSERT INTO tag VALUES<span class="o">(</span><span class="s1">'tag-0'</span>, TO_DATE<span class="o">(</span><span class="s1">'2021-08-11'</span><span class="o">)</span>, 5<span class="o">)</span><span class="p">;</span>
Mach&gt; INSERT INTO tag VALUES<span class="o">(</span><span class="s1">'tag-1'</span>, TO_DATE<span class="o">(</span><span class="s1">'2022-08-12'</span><span class="o">)</span>, 100<span class="o">)</span><span class="p">;</span>
Mach&gt; INSERT INTO tag VALUES<span class="o">(</span><span class="s1">'tag-1'</span>, TO_DATE<span class="o">(</span><span class="s1">'2022-08-11'</span><span class="o">)</span>, 200<span class="o">)</span><span class="p">;</span>
Mach&gt; INSERT INTO tag VALUES<span class="o">(</span><span class="s1">'tag-1'</span>, TO_DATE<span class="o">(</span><span class="s1">'2022-08-10'</span><span class="o">)</span>, 50<span class="o">)</span><span class="p">;</span>
  
Mach&gt; SELECT <span class="k">*</span> FROM v<span class="nv">$tag_stat</span><span class="p">;</span>
NAME                                                                              ROW_COUNT            MIN_TIME                        MAX_TIME                        MIN_VALUE                 
<span class="nt">---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
MIN_VALUE_TIME                  MAX_VALUE                   MAX_VALUE_TIME                  RECENT_ROW_TIME               
<span class="nt">---------------------------------------------------------------------------------------------------------------------------------</span>
tag-0                                                                             4                    2021-08-11 00:00:00 000:000:000 2021-08-14 00:00:00 000:000:000 5                         
2021-08-11 00:00:00 000:000:000 20                          2021-08-14 00:00:00 000:000:000 2021-08-11 00:00:00 000:000:000
tag-1                                                                             3                    2022-08-10 00:00:00 000:000:000 2022-08-12 00:00:00 000:000:000 50                        
2022-08-10 00:00:00 000:000:000 200                         2022-08-11 00:00:00 000:000:000 2022-08-10 00:00:00 000:000:000
<span class="o">[</span>2] row<span class="o">(</span>s<span class="o">)</span> selected.
  
2. When a SUMMARIZED column does not exist
Mach&gt; CREATE TAG TABLE other_tag <span class="o">(</span>name VARCHAR<span class="o">(</span>20<span class="o">)</span> PRIMARY KEY, <span class="nb">time </span>DATETIME BASETIME, value DOUBLE<span class="o">)</span><span class="p">;</span>
Executed successfully.
  
Mach&gt; INSERT INTO other_tag VALUES<span class="o">(</span><span class="s1">'tag-0'</span>, TO_DATE<span class="o">(</span><span class="s1">'2021-08-12'</span><span class="o">)</span>, 10<span class="o">)</span><span class="p">;</span>
Mach&gt; INSERT INTO other_tag VALUES<span class="o">(</span><span class="s1">'tag-0'</span>, TO_DATE<span class="o">(</span><span class="s1">'2021-08-13'</span><span class="o">)</span>, 10<span class="o">)</span><span class="p">;</span>
Mach&gt; INSERT INTO other_tag VALUES<span class="o">(</span><span class="s1">'tag-0'</span>, TO_DATE<span class="o">(</span><span class="s1">'2021-08-14'</span><span class="o">)</span>, 20<span class="o">)</span><span class="p">;</span>
Mach&gt; INSERT INTO other_tag VALUES<span class="o">(</span><span class="s1">'tag-0'</span>, TO_DATE<span class="o">(</span><span class="s1">'2021-08-11'</span><span class="o">)</span>, 5<span class="o">)</span><span class="p">;</span>
Mach&gt; INSERT INTO other_tag VALUES<span class="o">(</span><span class="s1">'tag-1'</span>, TO_DATE<span class="o">(</span><span class="s1">'2022-08-12'</span><span class="o">)</span>, 100<span class="o">)</span><span class="p">;</span>
Mach&gt; INSERT INTO other_tag VALUES<span class="o">(</span><span class="s1">'tag-1'</span>, TO_DATE<span class="o">(</span><span class="s1">'2022-08-11'</span><span class="o">)</span>, 200<span class="o">)</span><span class="p">;</span>
Mach&gt; INSERT INTO other_tag VALUES<span class="o">(</span><span class="s1">'tag-1'</span>, TO_DATE<span class="o">(</span><span class="s1">'2022-08-10'</span><span class="o">)</span>, 50<span class="o">)</span><span class="p">;</span>
  
Mach&gt; SELECT <span class="k">*</span> FROM v<span class="nv">$other_tag_stat</span><span class="p">;</span>
NAME                                                                              ROW_COUNT            MIN_TIME                        MAX_TIME                        MIN_VALUE                 
<span class="nt">---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</span>
MIN_VALUE_TIME                  MAX_VALUE                   MAX_VALUE_TIME                  RECENT_ROW_TIME               
<span class="nt">---------------------------------------------------------------------------------------------------------------------------------</span>
tag-0                                                                             4                    2021-08-11 00:00:00 000:000:000 2021-08-14 00:00:00 000:000:000 NULL                      
NULL                            NULL                        NULL                            2021-08-11 00:00:00 000:000:000
tag-1                                                                             3                    2022-08-10 00:00:00 000:000:000 2022-08-12 00:00:00 000:000:000 NULL                      
NULL                            NULL                        NULL                            2022-08-10 00:00:00 000:000:000
<span class="o">[</span>2] row<span class="o">(</span>s<span class="o">)</span> selected.
</code></pre></div></div>

<h1 id="extraction-by-using-restful-api">Extraction by Using RESTful API</h1>

<h2 id="prepare-for-restful-api">Prepare for RESTful API</h2>

<p>Specify the values of the properties blow and start the server.</p>

<p>machbase.conf</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP_ENABLE = 1
HTTP_PORT_NO = 5678
</code></pre></div></div>

<p>RESTful API calling convention</p>

<p><strong>SELECT FORM</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">{</span>MWA URL<span class="o">}</span>/machiot-rest-api/datapoints/raw/<span class="o">{</span>TagName<span class="o">}</span>/<span class="o">{</span>Start<span class="o">}</span>/<span class="o">{</span>End<span class="o">}</span>/<span class="o">{</span>Direction<span class="o">}</span>/<span class="o">{</span>Count<span class="o">}</span>/<span class="o">{</span>Offset<span class="o">}</span>/ 
 
TagName    : Tag Name. multiple tag available<span class="o">(</span>Seperated by <span class="s1">','</span><span class="o">)</span>
Start, End : range, YYYY-MM-DD HH24:MI:SS or YYYY-MM-DD or YYYY-MM-DD HH24:MI:SS,mmm <span class="o">(</span>mmm: millisecond, When omitted start is 000, End is 999, micro and nano is 999<span class="o">)</span>
When using real string, put <span class="s1">'T'</span> between <span class="nb">time </span>and <span class="nb">date </span>to remove blank.
Direction  : 0<span class="o">(</span>ascending<span class="o">)</span>, support <span class="k">in </span>future <span class="o">(</span><span class="nb">time </span>increase<span class="o">)</span>
Count      : LIMIT, whole <span class="k">if </span>0
Offset     : offset <span class="o">(</span>default <span class="o">=</span> 0<span class="o">)</span>
</code></pre></div></div>

<h2 id="sample-for-fetching-single-tag-data-by-using-curl">Sample for Fetching single tag data by using CURL</h2>

<p>Call for machbase installed in 192.168.0.148 as follow, the data can be retrieved from the web.</p>

<p><strong>Single Tag</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-G</span> <span class="s2">"http://192.168.0.148:5001/machiot-rest-api/v1/datapoints/raw/TAG_0001/2018-01-01T00:00:00/2018-01-06T00:00:00"</span>
 
<span class="o">{</span><span class="s2">"ErrorCode"</span>: 0,
 <span class="s2">"ErrorMessage"</span>: <span class="s2">""</span>,
 <span class="s2">"Data"</span>: <span class="o">[{</span><span class="s2">"DataType"</span>: <span class="s2">"DOUBLE"</span>,
 <span class="s2">"ErrorCode"</span>: 0,
 <span class="s2">"TagName"</span>: <span class="s2">"TAG_0001"</span>,
 <span class="s2">"CalculationMode"</span>: <span class="s2">"raw"</span>,
 <span class="s2">"Samples"</span>: <span class="o">[{</span><span class="s2">"TimeStamp"</span>: <span class="s2">"2018-01-01 01:00:00 000:000:000"</span>, <span class="s2">"Value"</span>: 1.0, <span class="s2">"Quality"</span>: 1<span class="o">}</span>,
             <span class="o">{</span><span class="s2">"TimeStamp"</span>: <span class="s2">"2018-01-02 02:00:00 000:000:000"</span>, <span class="s2">"Value"</span>: 2.0, <span class="s2">"Quality"</span>: 1<span class="o">}</span>,
             <span class="o">{</span><span class="s2">"TimeStamp"</span>: <span class="s2">"2018-01-03 03:00:00 000:000:000"</span>, <span class="s2">"Value"</span>: 3.0, <span class="s2">"Quality"</span>: 1<span class="o">}</span>,
             <span class="o">{</span><span class="s2">"TimeStamp"</span>: <span class="s2">"2018-01-04 04:00:00 000:000:000"</span>, <span class="s2">"Value"</span>: 4.0, <span class="s2">"Quality"</span>: 1<span class="o">}</span>,
             <span class="o">{</span><span class="s2">"TimeStamp"</span>: <span class="s2">"2018-01-05 05:00:00 000:000:000"</span>, <span class="s2">"Value"</span>: 5.0, <span class="s2">"Quality"</span>: 1<span class="o">}]}]</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="fetching-multi-tag-data-by-using-curl">fetching multi tag data by using CURL</h2>

<p>Follow is sample for fetching two tag values.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-G</span> <span class="s2">"http://192.168.0.148:5001/machiot-rest-api/datapoints/raw/TAG_0001,TAG_0002/2018-01-05T00:00:00/2018-02-05T00:00:00"</span>
<span class="o">{</span><span class="s2">"ErrorCode"</span>: 0,
 <span class="s2">"ErrorMessage"</span>: <span class="s2">""</span>,
 <span class="s2">"Data"</span>: <span class="o">[{</span><span class="s2">"DataType"</span>: <span class="s2">"DOUBLE"</span>,
           <span class="s2">"ErrorCode"</span>: 0,
           <span class="s2">"TagName"</span>: <span class="s2">"TAG_0001,TAG_0002"</span>,
           <span class="s2">"CalculationMode"</span>: <span class="s2">"raw"</span>,
           <span class="s2">"Samples"</span>: <span class="o">[{</span><span class="s2">"TimeStamp"</span>: <span class="s2">"2018-01-05 05:00:00 000:000:000"</span>, <span class="s2">"Value"</span>: 5.0, <span class="s2">"Quality"</span>: 1<span class="o">}</span>,
                       <span class="o">{</span><span class="s2">"TimeStamp"</span>: <span class="s2">"2018-01-06 06:00:00 000:000:000"</span>, <span class="s2">"Value"</span>: 6.0, <span class="s2">"Quality"</span>: 1<span class="o">}</span>,
                       <span class="o">{</span><span class="s2">"TimeStamp"</span>: <span class="s2">"2018-01-07 07:00:00 000:000:000"</span>, <span class="s2">"Value"</span>: 7.0, <span class="s2">"Quality"</span>: 1<span class="o">}</span>,
                       <span class="o">{</span><span class="s2">"TimeStamp"</span>: <span class="s2">"2018-01-08 08:00:00 000:000:000"</span>, <span class="s2">"Value"</span>: 8.0, <span class="s2">"Quality"</span>: 1<span class="o">}</span>,
                       <span class="o">{</span><span class="s2">"TimeStamp"</span>: <span class="s2">"2018-01-09 09:00:00 000:000:000"</span>, <span class="s2">"Value"</span>: 9.0, <span class="s2">"Quality"</span>: 1<span class="o">}</span>,
                       <span class="o">{</span><span class="s2">"TimeStamp"</span>: <span class="s2">"2018-01-10 10:00:00 000:000:000"</span>, <span class="s2">"Value"</span>: 10.0, <span class="s2">"Quality"</span>: 1<span class="o">}</span>,
                       <span class="o">{</span><span class="s2">"TimeStamp"</span>: <span class="s2">"2018-02-01 01:00:00 000:000:000"</span>, <span class="s2">"Value"</span>: 11.0, <span class="s2">"Quality"</span>: 1<span class="o">}</span>,
                       <span class="o">{</span><span class="s2">"TimeStamp"</span>: <span class="s2">"2018-02-02 02:00:00 000:000:000"</span>, <span class="s2">"Value"</span>: 12.0, <span class="s2">"Quality"</span>: 1<span class="o">}</span>,
                       <span class="o">{</span><span class="s2">"TimeStamp"</span>: <span class="s2">"2018-02-03 03:00:00 000:000:000"</span>, <span class="s2">"Value"</span>: 13.0, <span class="s2">"Quality"</span>: 1<span class="o">}</span>,
                       <span class="o">{</span><span class="s2">"TimeStamp"</span>: <span class="s2">"2018-02-04 04:00:00 000:000:000"</span>, <span class="s2">"Value"</span>: 14.0, <span class="s2">"Quality"</span>: 1<span class="o">}</span>
<span class="o">]}]}</span>
</code></pre></div></div>

<h1 id="specifying-the-serach-direction-using-hints">Specifying the serach direction using hints</h1>

<p>In general, the tag table can be searched starting with the oldest record. If you want to search from the most recently inserted record, you can use hints to control the search direction.</p>

<h2 id="forward-search">Forward Search</h2>

<p>default, search by using ‘/*+ SCAN_FORWARD(table_name) */’ hint.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Mach&gt; SELECT <span class="k">*</span> FROM tag WHERE <span class="nv">t_name</span><span class="o">=</span><span class="s1">'TAG_99'</span> LIMIT 10<span class="p">;</span>
T_NAME                T_TIME                          T_VALUE                    
<span class="nt">--------------------------------------------------------------------------------------</span>
TAG_99                2017-01-01 00:00:49 500:000:000 0                          
TAG_99                2017-01-01 00:01:39 500:000:000 1                          
TAG_99                2017-01-01 00:02:29 500:000:000 2                          
TAG_99                2017-01-01 00:03:19 500:000:000 3                          
TAG_99                2017-01-01 00:04:09 500:000:000 4                          
TAG_99                2017-01-01 00:04:59 500:000:000 5                          
TAG_99                2017-01-01 00:05:49 500:000:000 6                          
TAG_99                2017-01-01 00:06:39 500:000:000 7                          
TAG_99                2017-01-01 00:07:29 500:000:000 8                          
TAG_99                2017-01-01 00:08:19 500:000:000 9                          
<span class="o">[</span>10] row<span class="o">(</span>s<span class="o">)</span> selected.
Elapsed <span class="nb">time</span>: 0.001
 
Mach&gt; SELECT /<span class="k">*</span>+ SCAN_FORWARD<span class="o">(</span>tag<span class="o">)</span> <span class="k">*</span>/  <span class="k">*</span> FROM tag WHERE <span class="nv">t_name</span><span class="o">=</span><span class="s1">'TAG_99'</span> LIMIT 10<span class="p">;</span>
T_NAME                T_TIME                          T_VALUE                    
<span class="nt">--------------------------------------------------------------------------------------</span>
TAG_99                2017-01-01 00:00:49 500:000:000 0                          
TAG_99                2017-01-01 00:01:39 500:000:000 1                          
TAG_99                2017-01-01 00:02:29 500:000:000 2                          
TAG_99                2017-01-01 00:03:19 500:000:000 3                          
TAG_99                2017-01-01 00:04:09 500:000:000 4                          
TAG_99                2017-01-01 00:04:59 500:000:000 5                          
TAG_99                2017-01-01 00:05:49 500:000:000 6                          
TAG_99                2017-01-01 00:06:39 500:000:000 7                          
TAG_99                2017-01-01 00:07:29 500:000:000 8                          
TAG_99                2017-01-01 00:08:19 500:000:000 9                          
<span class="o">[</span>10] row<span class="o">(</span>s<span class="o">)</span> selected.
Elapsed <span class="nb">time</span>: 0.001
Mach&gt;
</code></pre></div></div>

<h2 id="backward-search">Backward Search</h2>

<p>search by using ‘/*+ SCAN_BACKWARD(table_name) */’ hint.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Mach&gt; SELECT /<span class="k">*</span>+ SCAN_BACKWARD<span class="o">(</span>tag<span class="o">)</span> <span class="k">*</span>/ <span class="k">*</span> FROM tag WHERE <span class="nv">t_name</span><span class="o">=</span><span class="s1">'TAG_99'</span> LIMIT 10<span class="p">;</span>
T_NAME                T_TIME                          T_VALUE                    
<span class="nt">--------------------------------------------------------------------------------------</span>
TAG_99                2017-02-27 20:53:19 500:000:000 9                          
TAG_99                2017-02-27 20:52:29 500:000:000 8                          
TAG_99                2017-02-27 20:51:39 500:000:000 7                          
TAG_99                2017-02-27 20:50:49 500:000:000 6                          
TAG_99                2017-02-27 20:49:59 500:000:000 5                          
TAG_99                2017-02-27 20:49:09 500:000:000 4                          
TAG_99                2017-02-27 20:48:19 500:000:000 3                          
TAG_99                2017-02-27 20:47:29 500:000:000 2                          
TAG_99                2017-02-27 20:46:39 500:000:000 1                          
TAG_99                2017-02-27 20:45:49 500:000:000 0                          
<span class="o">[</span>10] row<span class="o">(</span>s<span class="o">)</span> selected.
Elapsed <span class="nb">time</span>: 0.001
Mach&gt;
</code></pre></div></div>

<p>Setting basic scan direction property</p>

<p>By using <a href="/en/config-monitor/property.md#table_scan_direction">TABLE_SCAN_DIRECTION</a> property, user can set tag table scan direction when there is no hint in select query.</p>


<script
  src="/en/assets/js/jquery-3.3.1/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8= sha256-T+aPohYXbm0fRYDpJLr+zJ9RmYTswGsahAoIsNiMld4="
  crossorigin="anonymous"></script>

<script>
$(document).ready(function() {

    var toc = $('#TOC');

    // Select each header
    sections = $('.td-content h1');
        $.each(sections, function(idx, v) {
            section = $(v);
            var div_id = $(section).attr('id');
            var div_text = section.text().split('¶')[0];
            var parent = $("#" + div_id)
            var content = '<li id="link_' + div_id + '" class="md-nav__item"><a class="md-nav__link" href="#' + div_id + '" title="' + div_text +'">' + div_text +'</a></li>';
            $(toc).append(content);

            // Add section code to subnavigation
            var children = $('<nav class="md-nav"><ul class="md-nav__list"></nav></ul>')
            var contenders = $("#" + div_id).nextUntil("h1");
            $.each(contenders, function(idx, contender){
               if($(contender).is('h2') || $(contender).is('h3')) {
                   var contender_id = $(contender).attr('id');
                   var contender_text = $(contender).text().split('¶')[0];
                   var content = '<li class="md-nav__item"><a class="md-nav__link" href="#' + contender_id + '" title="' + contender_text +'">' + contender_text +'</a></li>';
                   children.append(content);
                }
             })
             $("#link_" + div_id).append(children);
        });
    });
</script>

<script>
var headers = ["h1", "h2", "h3", "h4"]
var colors = ["red", "orange", "green", "blue"]

$.each(headers, function(i, header){
    var color = colors[i];
    $(header).each(function () {
        var href=$(this).attr("id");
        $(this).append('<a class="headerlink" style="color:' + color + '" href="#' + href + '" title="Permanent link">¶</a>')
    });
})
</script>



	
              
              <!-- <style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<h5 class="feedback--title">Feedback</h5>
<p class="feedback--question">Was this page helpful?</p>
<button class="feedback--answer feedback--answer-yes">Yes</button>
<button class="feedback--answer feedback--answer-no">No</button>
<p class="feedback--response feedback--response-yes">
  Glad to hear it! Please <a href="https://github.com/machbase/dbms-manual/issues/new">tell us how we can improve</a>.
</p>
<p class="feedback--response feedback--response-no">
  Sorry to hear that. Please <a href="https://github.com/machbase/dbms-manual/issues/new">tell us how we can improve</a>.
</p>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof ga !== 'function') return;
    const args = {
      command: 'send',
      hitType: 'event',
      category: 'Helpful',
      action: 'click',
      label: window.location.pathname,
      value: value
    };
    ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(1);
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script><br/>

 -->
           </div>
          </main>
        </div>
      </div>
      <footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        <ul class="list-inline mb-0">  
          
            <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="" aria-label="Twitter" data-original-title="Twitter">
              <a class="text-white" target="_blank" href="https://twitter.com/machbase">
                <i class="fab fa-twitter"></i>
              </a>
            </li>
          
          
        </ul>
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        <ul class="list-inline mb-0">  
          <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="" aria-label="GitHub" data-original-title="GitHub">
            <a class="text-white" target="_blank" href="https://github.com/machbase/dbms-manual">
              <i class="fab fa-github"></i>
            </a>
          </li>
        </ul>
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">© 2023  All Rights Reserved</small>
        
      </div>
    </div>
  </div>
</footer>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<script src="/en/assets/js/main.js"></script>

  </body>
</html>