<!DOCTYPE html>
<html lang="en" class="no-js">
  <!-- Copyright 2019-2021 Vanessa Sochat-->
  <head>
    <meta charset="utf-8">
    <!-- Copyright 2019-2021 Vanessa Sochat-->
    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="generator" content="Hugo 0.55.6" />
    
    <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
    
    <link rel="alternate" type="application/rss&#43;xml" href="/docs/index.xml">
    
    <link rel="shortcut icon" href="/kr/assets/favicons/favicon.ico" >
    <!-- <link rel="apple-touch-icon" href="/kr/assets/favicons/apple-touch-icon-180x180.png" sizes="180x180">
    <link rel="icon" type="image/png" href="/kr/assets/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/kr/assets/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/kr/assets/favicons/android-icon-36x36.png" sizes="36x36">
    <link rel="icon" type="image/png" href="/kr/assets/favicons/android-icon-48x48.png" sizes="48x48">
    <link rel="icon" type="image/png" href="/kr/assets/favicons/android-icon-72x72.png" sizes="72x72">
    <link rel="icon" type="image/png" href="/kr/assets/favicons/android-icon-96x196.png" sizes="96x196">
    <link rel="icon" type="image/png" href="/kr/assets/favicons/android-icon-144x144.png" sizes="144x144">
    <link rel="icon" type="image/png" href="/kr/assets/favicons/android-icon-192x192.png"sizes="192x192"> -->
    
    <title>SELECT</title>
    <meta property="og:title" content="SELECT" />
    <meta property="og:description" content="machbase-manual documents.
" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="" />
    <meta property="og:site_name" content="" />
    
    <meta itemprop="name" content="SELECT">
    <meta itemprop="description" content="machbase-manual documents.
">
    
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="SELECT"/>
    <meta name="twitter:description" content="machbase-manual documents.
"/>
    
    <link rel="stylesheet" href="/kr/assets/css/main.css">
    <link rel="stylesheet" href="/kr/assets/css/palette.css">
    <script
      src="/kr/assets/js/jquery-3.3.1/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8= sha256-T+aPohYXbm0fRYDpJLr+zJ9RmYTswGsahAoIsNiMld4="
      crossorigin="anonymous"></script>
    </head>
  

  
  <body class="td-section">
    <header>
    <nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
    <a class="navbar-brand" href="/kr/">
        <span class="navbar-logo"></span><span class="text-uppercase font-weight-bold"><img src="/kr/assets/img/logo.png" alt="Machbase manual"></span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
    <ul class="navbar-nav mt-2 mt-lg-0">
        <li class="nav-item mr-4 mb-2 mb-lg-0">
                        <!-- <a class="nav-link" href="https://github.com/machbase/dbms-manual" target="_blank"><span>GitHub</span></a> -->
        </li>
        <li class="nav-item mr-4 mb-2 mb-lg-0">
                        <!-- <a class="nav-link" href="/kr/about" ><span>About</span></a> -->
        </li>
        <li class="nav-item mr-4 mb-2 mb-lg-0">
                        <!-- <a class="nav-link" href="/kr/docs" ><span>Documentation</span></a> -->
        </li>
  <!--  -->
  <!-- <li class="nav-item mr-4 mb-2 mb-lg-0"> -->
    <!-- 
      <span class="nav-link ">Release:</span>
    
    <li class="nav-item dropdown d-none d-lg-block">
      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Current</a>
      <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
        
        
          
            <a class="dropdown-item" href="/kr/sql-ref/select.html">Current</a>
          
        
        
          
            
            <a class="dropdown-item" href="/kr/sql-ref/select.html">Previous</a>
          
         -->
      </div>
    </li>
  <!-- </li> -->
  
    </ul>
</div>
<div class="navbar-nav d-none d-lg-block">
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="on">
    </div>

<!-- <div class="navbar-nav d-none d-lg-block">
      <a class="gh-source" data-gh-source="github" href="https://github.com/machbase/dbms-manual" title="Go to repository" data-md-state="done">
      <div class="gh-source__repository">
        <i class="fab fa fa-github fa-2x" style='padding-right:20px; float:left; margin-top:5px'></i>
        machbase/dbms-manual
      <ul class="gh-source__facts"><li class="gh-source__fact" id='stars'></li><li id="forks" class="gh-source__fact"></li></ul></div></a>
    </div> -->
  </div>


</nav>
</header>

<script>
$(document).ready(function() {
var url = "https://api.github.com/search/repositories?q=machbase/dbms-manual";
fetch(url, { 
  headers: {"Accept":"application/vnd.github.preview"}
}).then(function(e) {
return e.json()
}).then(function(r) {
 console.log(r.items[0])
 stars = r.items[0]['stargazers_count']
 forks = r.items[0]['forks_count']
 $('#stars').text(stars + " Stars")
 $('#forks').text(forks + " Forks")
});
});
</script>

    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
          <div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    <input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">
    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation"></button>
  </form>  
  
  <nav class="collapse td-sidebar-nav pt-2 pl-4" id="td-section-nav">
    
      <ul class="td-sidebar-nav__section pr-md-3">
        
        
      
        <li class="td-sidebar-nav__section-title">
          <a href="" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">마크베이스 매뉴얼</a>
        </li>
        
        
          <ul>
            <li class="collapse show" id="마크베이스-매뉴얼">
              <ul class="td-sidebar-nav__section pr-md-3">
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">개요</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="개요">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-개요-마크베이스-소개" href="/kr//intro/introduction">마크베이스 소개</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-개요-마크베이스-특징" href="/kr//intro/features">마크베이스 특징</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-개요-마크베이스-제품군-소개" href="/kr//intro/products">마크베이스 제품군 소개</a>
                        
                      </li>
                    </ul>
                  
                  
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">설치</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="설치">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-설치-패키지-개요" href="/kr//install/package">패키지 개요</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-설치-리눅스-설치" href="/kr//install/linux">리눅스 설치</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-설치-windows-설치" href="/kr//install/windows">Windows 설치</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-설치-라이선스-설치" href="/kr//install/license">라이선스 설치</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-설치-cluster-edition-설치" href="/kr//install/cluster">Cluster Edition 설치</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-설치-업그레이드-복구" href="">업그레이드 / 복구</a>
                        
                      </li>
                    </ul>
                  
                  
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">주요기능 / 테이블</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="주요기능-테이블">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-주요기능-테이블-태그-테이블-tag-table" href="/kr//feature-table/tag">태그 테이블 (Tag Table)</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-주요기능-테이블-로그-테이블-log-table" href="/kr//feature-table/log">로그 테이블 (Log Table)</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-주요기능-테이블-휘발성-테이블-volatile-table" href="/kr//feature-table/volatile">휘발성 테이블 (Volatile Table)</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-주요기능-테이블-참조-테이블-lookup-table" href="/kr//feature-table/lookup">참조 테이블 (Lookup Table)</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-주요기능-테이블-스트림-stream" href="/kr//feature-table/stream">스트림 (Stream)</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-주요기능-테이블-백업-및-마운트" href="/kr//feature-table/backup-mount">백업 및 마운트</a>
                        
                      </li>
                    </ul>
                  
                  
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">도구</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="도구">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-도구-유틸리티-모음" href="/kr//tools/utilities">유틸리티 모음</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-도구-mwa-machbase-web-analytics" href="/kr//tools/mwa">MWA (Machbase Web Analytics)</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-도구-태그-분석기-tag-analyzer" href="/kr//tools/tag-analyzer">태그 분석기(Tag Analyzer)</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-도구-machcoordinatoradmin" href="/kr//tools/machcoordinatoradmin">machcoordinatoradmin</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-도구-machdeployeradmin" href="/kr//tools/machdeployeradmin">machdeployeradmin</a>
                        
                      </li>
                    </ul>
                  
                  
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">설정 / 모니터링</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="설정-모니터링">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-설정-모니터링-meta-table" href="/kr//setting-monitoring/meta-table">Meta Table</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-설정-모니터링-virtual-table" href="/kr//setting-monitoring/virtual-table">Virtual Table</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-설정-모니터링-property" href="/kr//setting-monitoring/property">Property</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-설정-모니터링-property-cluster" href="/kr//setting-monitoring/property-cl">Property (Cluster)</a>
                        
                      </li>
                    </ul>
                  
                  
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">SQL Reference</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="sql-reference">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-sql-reference-자료형" href="/kr//sql-ref/data-types">자료형</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-sql-reference-ddl" href="/kr//sql-ref/ddl">DDL</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-sql-reference-dml" href="/kr//sql-ref/dml">DML</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-sql-reference-select" href="/kr//sql-ref/select">SELECT</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-sql-reference-select-hint" href="/kr//sql-ref/select-hint">SELECT Hint</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-sql-reference-사용자-관리" href="/kr//sql-ref/user">사용자 관리</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-sql-reference-지원-함수" href="/kr//sql-ref/func">지원 함수</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-sql-reference-시스템-세션-관리" href="/kr//sql-ref/sys-session">시스템/세션 관리</a>
                        
                      </li>
                    </ul>
                  
                  
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">SDK</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="sdk">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-sdk-cli-odbc" href="/kr//sdk/cli_odbc">CLI/ODBC</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-sdk-cli-odbc-예제" href="/kr//sdk/cli_odbc_example">CLI/ODBC 예제</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-sdk-jdbc" href="/kr//sdk/jdbc">JDBC</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-sdk-python" href="/kr//sdk/python">Python</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-sdk-restful-api" href="/kr//sdk/restful_api">RESTful API</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-sdk-net-connector" href="/kr//sdk/dotnet">.NET Connector</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-sdk-timezone" href="/kr//sdk/timezone">Timezone</a>
                        
                      </li>
                    </ul>
                  
                  
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">Release Note</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="release-note">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-release-note-7-0-release-note" href="/kr//release-note/7_0">7.0 Release Note</a>
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-release-note-7-5-release-note" href="/kr//release-note/7_5">7.5 Release Note</a>
                        
                      </li>
                    </ul>
                  
                  
                
                  
                  
                  <li class="td-sidebar-nav__section-title">
                    <a href="" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section ">자주 묻는 질문(FAQ)</a>
                  </li>
                  
                  
                    <ul>
                      <li class="collapse show" id="자주-묻는-질문-faq">
                        
                          <a class="td-sidebar-link td-sidebar-link__page " id="m-마크베이스-매뉴얼-자주-묻는-질문-faq-쿼리-에러를-property-수정하여-해결하는-방법" href="/kr//faq/faq">쿼리 에러를 Property 수정하여 해결하는 방법</a>
                        
                      </li>
                    </ul>
                  
                  
                
              </ul>
            </li>
          </ul>
        
        
      </ul>
    
  </nav>
</div>

          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
              <div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
              </div>
              <nav id="TableOfContents"><ul>
              <li><ul id="TOC">
                <!-- Links will be appended here-->
              </ul></li>
              </ul></nav>
          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	      <ol class="breadcrumb spb-1">
              
              
                
                  
                    
                      
                      <li class="breadcrumb-item">
                        <a href="/kr/sql-ref/">Sql ref</a>
                      </li>
                      
                    
                  
                
              
                
                  
                    <li class="breadcrumb-item active" aria-current="page">
                      <a href="/kr/sql-ref/select.html">SELECT</a>
                    </li>
                  
                
              
	      </ol>
           </nav>
           <div class="td-content">        
            
              
            
            
	      <!-- Copyright 2019-2021 Vanessa Sochat-->
<h1 style="margin-bottom:0px">SELECT</h1>

<span class="post-date" style="font-style: italic;"></span>
<p>SELECT는 마크베이스에서 각종 테이블로부터 데이터를 찾거나 필터링 및 조작하는 데 사용되는 구문이다.</p>

<h1 id="목차">목차</h1>

<ul>
  <li><a href="#select-syntax">SELECT Syntax</a></li>
  <li><a href="#set-operator">SET OPERATOR</a></li>
  <li><a href="#target-list">TARGET LIST</a>
    <ul>
      <li><a href="#case-구문">CASE 구문</a></li>
    </ul>
  </li>
  <li><a href="#from">FROM</a>
    <ul>
      <li><a href="#subqueryinline-view-사용">SUBQUERY(INLINE VIEW) 사용</a></li>
      <li><a href="#inner-join-및-outer-join">INNER JOIN 및 OUTER JOIN</a></li>
      <li><a href="#pivot">PIVOT</a></li>
    </ul>
  </li>
  <li><a href="#where">WHERE</a>
    <ul>
      <li><a href="#subquery의-사용">SUBQUERY의 사용</a></li>
      <li><a href="#search-구문">SEARCH 구문</a></li>
      <li><a href="#esearch-구문">ESEARCH 구문</a></li>
      <li><a href="#not-search-구문">NOT SEARCH 구문</a></li>
      <li><a href="#regexp-구문">REGEXP 구문</a></li>
      <li><a href="#in-구문">IN 구문</a></li>
      <li><a href="#in-구문과-subquery의-사용">IN 구문과 SUBQUERY의 사용</a></li>
      <li><a href="#between-구문">BETWEEN 구문</a></li>
      <li><a href="#range-구문">RANGE 구문</a></li>
    </ul>
  </li>
  <li><a href="#group-by--having">GROUP BY / HAVING</a></li>
  <li><a href="#order-by">ORDER BY</a></li>
  <li><a href="#series-by">SERIES BY</a></li>
  <li><a href="#limit">LIMIT</a></li>
  <li><a href="#duration">DURATION</a></li>
  <li><a href="#save-data">SAVE DATA</a></li>
</ul>

<h2 id="select-syntax">SELECT Syntax</h2>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">select_stmt</span> <span class="k">UNION</span> <span class="k">ALL</span> <span class="n">select_stmt</span>
</code></pre></div></div>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">target_list</span> <span class="k">FROM</span> <span class="n">TableList</span> <span class="k">WHERE</span> <span class="n">Condition</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">Expr</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">Expr</span> <span class="p">[</span><span class="k">Desc</span><span class="p">]</span> <span class="k">HAVING</span> <span class="n">Expr</span> <span class="n">SERIES</span> <span class="k">BY</span> <span class="n">Expr</span> <span class="k">LIMIT</span> <span class="n">N</span><span class="p">[,</span><span class="n">N</span><span class="p">]</span> <span class="n">DURATION</span> <span class="n">TimeExpr</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="set-operator">SET OPERATOR</h2>

<p>여러 개의 Select문의 결과를 하나의 질의 결과로 전달받을 경우에 사용한다. 마크베이스는 UNION ALL 집합 연산자만을 지원한다. 집합 연산자는 좌우에 기술된 Select문이 (1) 같거나 호환가능한 타입이며 (2) 질의 결과값의 개수가 동일한 경우에만 실행이 가능하며 두 조건 중 하나라도 일치하지 않은 경우에는 오류로 처리된다.</p>

<p>다음의 기준으로 데이터 타입 변환이나 호환성 검증을 수행한다.</p>
<ul>
  <li>부호 있는 정수형 타입과 부호 없는 정수형 타입은 호환이 되지 않는다.</li>
  <li>정수형 타입은 실수형 타입과 호환이 되며 질의 결과는 실수형 타입으로 변환되어 반환된다.</li>
  <li>문자형 타입은 길이가 달라도 호환이 된다.</li>
  <li>IPv6 타입과 IPv4 타입은 호환이 되지 않는다.</li>
  <li>두 개의 SELECT 문 중 항상 왼쪽 질의의 컬럼명이 사용된다.</li>
</ul>

<p>실행 예제</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span> <span class="k">FROM</span> <span class="n">table_1</span>
<span class="k">UNION</span> <span class="k">ALL</span>
<span class="k">SELECT</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="k">FROM</span> <span class="n">table_2</span>
</code></pre></div></div>

<h2 id="target-list">TARGET LIST</h2>

<p>Select 문이 대상으로 하는 컬럼 또는 Subquery 의 리스트이다.</p>

<p>Target list에 사용된 Subquery는 WHERE 조건절에서 사용되는 Subquery와 같이 두 개 이상의 값을 갖거나 두 개 이상의 결과 컬럼을 갖는 경우에는 오류로 처리된다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">i1</span><span class="p">,</span> <span class="n">i2</span> <span class="p">...</span>
<span class="k">SELECT</span> <span class="n">i1</span> <span class="p">(</span><span class="k">Select</span> <span class="k">avg</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">),</span> <span class="n">i2</span> <span class="p">...</span>
</code></pre></div></div>

<h3 id="case-구문">CASE 구문</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CASE</span> <span class="o">&lt;</span><span class="n">simple_case_expression</span><span class="o">|</span><span class="n">searched_case_expression</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">else_clause</span><span class="p">]</span> <span class="k">END</span>
 
<span class="n">simple_case_expression</span> <span class="p">::</span><span class="o">=</span>
    <span class="n">expr</span> <span class="k">WHEN</span> <span class="n">comparison_expr</span> <span class="k">THEN</span> <span class="n">return_expr</span>
        <span class="p">[</span><span class="k">WHEN</span> <span class="n">comparison_expr</span> <span class="k">THEN</span> <span class="n">return_expr</span> <span class="p">...]</span>
 
<span class="n">searched_case_expression</span> <span class="p">::</span><span class="o">=</span>
    <span class="k">WHEN</span> <span class="n">condtion_expr</span> <span class="k">THEN</span> <span class="k">return</span> <span class="n">EXPR</span> <span class="p">[</span><span class="k">WHEN</span> <span class="n">condtion_expr</span> <span class="k">THEN</span> <span class="k">return</span> <span class="n">EXPR</span> <span class="p">...]</span>
 
<span class="n">else_clause</span> <span class="p">::</span><span class="o">=</span>
    <span class="k">ELSE</span> <span class="n">else_value_expr</span>
</code></pre></div></div>

<p>일반적인 프로그램 언어의 IF… THEN… ELSE블록을 지원하는 표현식이다. simple_case_expression은 하나의 컬럼이나 표현식이 when 뒤에 오는 comparison_expr 값과 같은 경우 return_expr을 반환하는 형태로 수행되며 이 when … then 절은 원하는 만큼 반복하여 기술할 수 있다.</p>

<p>searched_case_expression은 CASE 이후에 표현식을 지정하지 않고 when절에 비교연산자를 포함한 조건절을 기술한다. 각 비교연산의 결과가 참이면 then 절의 값을 반환한다. else 절은 when 절들의 값이 만족하지 않을 경우(expression 결과가 NULL인 경우에도) else_value를 반환한다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="n">I1</span>          <span class="n">I2</span>         
<span class="c1">---------------------------</span>
<span class="mi">2</span>           <span class="mi">2</span>          
<span class="mi">1</span>           <span class="mi">1</span>          
<span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="k">select</span> <span class="k">case</span> <span class="n">i1</span> <span class="k">when</span> <span class="mi">1</span> <span class="k">then</span> <span class="mi">100</span> <span class="k">end</span> <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="k">case</span> <span class="n">i1</span> <span class="k">when</span> <span class="mi">1</span> <span class="k">then</span> <span class="mi">100</span> <span class="k">end</span>
<span class="c1">------------------------------</span>
<span class="k">NULL</span>       
<span class="mi">100</span>        
<span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
</code></pre></div></div>

<p>simple_case_expression의 예제에서 i1 컬럼의 값이 2인 경우에 해당하는 값이 없으면 NULL을 반환한다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="k">case</span> <span class="k">when</span> <span class="n">i1</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">then</span> <span class="mi">100</span> <span class="k">when</span> <span class="n">i1</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">then</span> <span class="mi">200</span> <span class="k">end</span> <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="k">case</span> <span class="k">when</span> <span class="n">i1</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">then</span> <span class="mi">100</span> <span class="k">when</span> <span class="n">i1</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">then</span> <span class="mi">200</span> <span class="k">end</span>
<span class="c1">------------------------------------------</span>
<span class="mi">100</span>        
<span class="mi">100</span>        
<span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
</code></pre></div></div>

<p>searched_case_expression에서 만족하는 첫 번째 조건절을 반환하므로 첫 번째 조건절의 반환값인 100이 반환되며 두 번째 조건절은 실행이 되지 않는다.</p>

<h2 id="from">FROM</h2>

<p>FROM 절에는 테이블 이름이나 Inline view를 지정할 수 있다. 테이블 간의 Join을 수행하려면 테이블 혹은 Inline view를 쉼표(,)로 구분해서 나열한다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span> <span class="k">table_name</span>
</code></pre></div></div>

<p>table_name로 지정한 테이블 내의 데이터를 검색한다.</p>

<h4 id="subqueryinline-view-사용">SUBQUERY(INLINE VIEW) 사용</h4>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span> <span class="p">(</span><span class="k">Select</span> <span class="k">statement</span><span class="p">)</span>
</code></pre></div></div>

<p>괄호로 둘려쳐진 subquery의 내용에 대하여 데이터를 검색한다.</p>

<ul>
  <li>마크베이스 서버는 correlated subquery를 지원하지 않으므로 outer query에서 subquery 내의 column을 참조할 수 없다.</li>
</ul>

<h4 id="joininner-join">JOIN(INNER JOIN)</h4>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span> <span class="n">TABLE_1</span><span class="p">,</span> <span class="n">TABLE_2</span>
</code></pre></div></div>

<p>두 개의 테이블 table_1 과 table_2를 JOIN한다. INNER JOIN은 테이블이 3개 이상 나열될 때에도 사용이 가능하며 WHERE 절에 검색 조건절과 JOIN 조건절을 모두 기술하여 사용한다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">t1</span><span class="p">.</span><span class="n">i1</span><span class="p">,</span> <span class="n">t2</span><span class="p">.</span><span class="n">i1</span> <span class="k">FROM</span> <span class="n">t1</span><span class="p">,</span> <span class="n">t2</span> <span class="k">WHERE</span> <span class="n">t1</span><span class="p">.</span><span class="n">i1</span> <span class="o">=</span> <span class="n">t2</span><span class="p">.</span><span class="n">i1</span> <span class="k">AND</span> <span class="n">t1</span><span class="p">.</span><span class="n">i1</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">AND</span> <span class="n">t2</span><span class="p">.</span><span class="n">i2</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</code></pre></div></div>

<h4 id="inner-join-및-outer-join">INNER JOIN 및 OUTER JOIN</h4>

<p>ANSI 스타일의 INNER JOIN, LEFT OUTER JOIN, RIGHT OUTER JOIN을 지원한다. FULL OUTER JOIN은 지원하지 않는다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span> <span class="n">TABLE_1</span> <span class="p">[</span><span class="k">INNER</span><span class="o">|</span><span class="k">LEFT</span> <span class="k">OUTER</span><span class="o">|</span><span class="k">RIGHT</span> <span class="k">OUTER</span><span class="p">]</span> <span class="k">JOIN</span> <span class="n">TABLE_2</span> <span class="k">ON</span> <span class="n">expression</span>
</code></pre></div></div>

<p>ANSI 스타일 JOIN절의 ON절에는 JOIN에서 수행하는 조건절을 사용한다. OUTER JOIN 질의에서 where절에 Inner table(ON 절의 조건을 만족하지 않으면 NULL이 채워지는 테이블)에 대한 조건절이 있는 경우, 해당 질의는 INNER JOIN으로 변환된다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">t1</span><span class="p">.</span><span class="n">i1</span> <span class="n">t2</span><span class="p">.</span><span class="n">i1</span> <span class="k">FROM</span> <span class="n">t1</span> <span class="k">LEFT</span> <span class="k">OUTER</span> <span class="k">JOIN</span> <span class="n">t2</span> <span class="k">ON</span> <span class="p">(</span><span class="n">t1</span><span class="p">.</span><span class="n">i1</span> <span class="o">=</span> <span class="n">t2</span><span class="p">.</span><span class="n">i1</span><span class="p">)</span> <span class="k">WHERE</span> <span class="n">t2</span><span class="p">.</span><span class="n">i2</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</code></pre></div></div>

<p>위 질의는 WHERE 절의 조건 t2.i2 = 1에 의하여 INNER JOIN으로 변환된다.</p>

<h4 id="pivot">PIVOT</h4>

<ul>
  <li>PIVOT 구문은 마크베이스 5.5.6 버전부터 지원한다.</li>
</ul>

<p><strong>pivot_clause:</strong></p>

<p><img src="/kr/sql-ref/select_image/pivot_clause.png" alt="pivot" /></p>

<p>PIVOT 구문은 ROW로 출력되는 GROUP BY에 대한 집계 결과를 컬럼으로 재배열하여 보여준다.</p>

<p>Inline view와 함께 사용되며 다음과 같이 수행된다.</p>

<ul>
  <li>Inline view의 결과 컬럼 중 PIVOT 절에 사용되지 않은 컬럼으로 GROUP BY를 수행한 후 PIVOT IN 절에 나열된 값 별로 집계함수를 수행한다.</li>
  <li>결과로 나온 grouping 컬럼과 집계 결과를 회전하여 컬럼으로 보여준다.</li>
</ul>

<p>예) 여러 센서로부터 수집된 데이터에서 각 device 별로 value 값을 집계해서 출력하라.</p>

<p>CASE 구문을 통해 수행해야하는 질의를 PIVOT 구문을 통해 간단히 표현할 수 있다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- w/o PIVOT</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="p">(</span>
    <span class="k">SELECT</span>
             <span class="n">regtime</span><span class="p">,</span>
             <span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span> <span class="k">WHEN</span> <span class="n">tagid</span> <span class="o">=</span> <span class="s1">'FRONT_AXIS_TORQUE'</span> <span class="k">THEN</span> <span class="n">dvalue</span> <span class="k">ELSE</span> <span class="mi">0</span> <span class="k">END</span><span class="p">)</span>  <span class="k">AS</span> <span class="n">front_axis_torque</span><span class="p">,</span>
             <span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span> <span class="k">WHEN</span> <span class="n">tagid</span> <span class="o">=</span> <span class="s1">'REAR_AXIS_TORQUE'</span> <span class="k">THEN</span> <span class="n">dvalue</span> <span class="k">ELSE</span> <span class="mi">0</span> <span class="k">END</span><span class="p">)</span>  <span class="k">AS</span> <span class="n">rear_axis_torque</span><span class="p">,</span>
             <span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span> <span class="k">WHEN</span> <span class="n">tagid</span> <span class="o">=</span> <span class="s1">'HOIST_AXIS_TORQUE'</span> <span class="k">THEN</span> <span class="n">dvalue</span> <span class="k">ELSE</span> <span class="mi">0</span> <span class="k">END</span><span class="p">)</span>  <span class="k">AS</span> <span class="n">hoist_axis_torque</span><span class="p">,</span>
             <span class="k">SUM</span><span class="p">(</span><span class="k">CASE</span> <span class="k">WHEN</span> <span class="n">tagid</span> <span class="o">=</span> <span class="s1">'SLIDE_AXIS_TORQUE'</span> <span class="k">THEN</span> <span class="n">dvalue</span> <span class="k">ELSE</span> <span class="mi">0</span> <span class="k">END</span><span class="p">)</span>  <span class="k">AS</span> <span class="n">slide_axis_torque</span>
    <span class="k">FROM</span>     <span class="n">result_d</span>
    <span class="k">WHERE</span>    <span class="n">regtime</span> <span class="k">BETWEEN</span> <span class="n">TO_DATE</span><span class="p">(</span><span class="s1">'2018-12-07 00:00:00'</span><span class="p">)</span> <span class="k">AND</span> <span class="n">TO_DATE</span><span class="p">(</span><span class="s1">'2018-12-08 05:00:00'</span><span class="p">)</span>
    <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">regtime</span>
<span class="p">)</span> <span class="k">WHERE</span> <span class="n">front_axis_torque</span> <span class="o">&gt;=</span> <span class="mi">40</span> <span class="k">AND</span> <span class="n">rear_axis_torque</span> <span class="o">&gt;=</span> <span class="mi">20</span><span class="p">;</span>
  
<span class="c1">-- w/ PIVOT</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="n">regtime</span><span class="p">,</span> <span class="n">tagid</span><span class="p">,</span> <span class="n">dvalue</span> <span class="k">FROM</span> <span class="n">result_d</span>
    <span class="k">WHERE</span>  <span class="n">regtime</span> <span class="k">BETWEEN</span> <span class="n">TO_DATE</span><span class="p">(</span><span class="s1">'2018-12-07 00:00:00'</span><span class="p">)</span> <span class="k">AND</span> <span class="n">TO_DATE</span><span class="p">(</span><span class="s1">'2018-12-08 05:00:00'</span><span class="p">)</span>
<span class="p">)</span> <span class="n">PIVOT</span> <span class="p">(</span><span class="k">SUM</span><span class="p">(</span><span class="n">dvalue</span><span class="p">)</span> <span class="k">FOR</span> <span class="n">tagid</span> <span class="k">IN</span> <span class="p">(</span><span class="s1">'FRONT_AXIS_TORQUE'</span><span class="p">,</span> <span class="s1">'REAR_AXIS_TORQUE'</span><span class="p">,</span> <span class="s1">'HOIST_AXIS_TORQUE'</span><span class="p">,</span> <span class="s1">'SLIDE_AXIS_TORQUE'</span><span class="p">))</span>
<span class="k">WHERE</span> <span class="n">front_axis_torque</span> <span class="o">&gt;=</span> <span class="mi">40</span> <span class="k">AND</span> <span class="n">rear_axis_torque</span> <span class="o">&gt;=</span> <span class="mi">20</span><span class="p">;</span>
 
<span class="c1">-- Result</span>
<span class="n">regtime</span>                         <span class="s1">'FRONT_AXIS_TORQUE'</span>         <span class="s1">'REAR_AXIS_TORQUE'</span>          <span class="s1">'HOIST_AXIS_TORQUE'</span>         <span class="s1">'SLIDE_AXIS_TORQUE'</span>       
<span class="c1">------------------------------------------------------------------------------------------------------------------------------------------------------</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">07</span> <span class="mi">16</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">29</span> <span class="mi">840</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">12158</span>                       <span class="mi">7244</span>                        <span class="k">NULL</span>                        <span class="k">NULL</span>                      
<span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">07</span> <span class="mi">14</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">26</span> <span class="mi">220</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">3308</span>                        <span class="mi">663</span>                         <span class="k">NULL</span>                        <span class="k">NULL</span>                      
<span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">07</span> <span class="mi">12</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">13</span> <span class="mi">844</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">3804</span>                        <span class="mi">113</span>                         <span class="k">NULL</span>                        <span class="k">NULL</span>                      
<span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">01</span> <span class="mi">957</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">8729</span>                        <span class="mi">5384</span>                        <span class="k">NULL</span>                        <span class="k">NULL</span>                      
<span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">07</span> <span class="mi">17</span><span class="p">:</span><span class="mi">46</span><span class="p">:</span><span class="mi">57</span> <span class="mi">812</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">7500</span>                        <span class="mi">4559</span>                        <span class="k">NULL</span>                        <span class="k">NULL</span>                      
<span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">07</span> <span class="mi">14</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">06</span> <span class="mi">138</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">5080</span>                        <span class="mi">6817</span>                        <span class="k">NULL</span>                        <span class="o">-</span><span class="mi">429</span>                      
<span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">07</span> <span class="mi">13</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mi">20</span> <span class="mi">464</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">5233</span>                        <span class="mi">1869</span>                        <span class="o">-</span><span class="mi">7253</span>                       <span class="k">NULL</span>                      
<span class="mi">2018</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">07</span> <span class="mi">15</span><span class="p">:</span><span class="mi">43</span><span class="p">:</span><span class="mi">03</span> <span class="mi">539</span><span class="p">:</span><span class="mi">000</span><span class="p">:</span><span class="mi">000</span> <span class="mi">7491</span>                        <span class="mi">4453</span>                        <span class="k">NULL</span>                        <span class="k">NULL</span>
<span class="p">...</span>
</code></pre></div></div>

<h2 id="where">WHERE</h2>

<h4 id="subquery의-사용">SUBQUERY의 사용</h4>

<p>조건절에 대해서 subquery의 사용이 가능하다. IN 구문을 제외한 조건절에서 subquery가 두 개 이상의 레코드를 리턴하거나, subquery의 결과 컬럼이 두 개 이상인 경우는 지원하지 않는다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">WHERE</span> <span class="n">i1</span> <span class="o">=</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">T1</span><span class="p">)</span>
</code></pre></div></div>

<p>subquery를 조건연산자 오른쪽에 괄호를 둘러쳐서 사용한다.</p>

<ul>
  <li>마크베이스 서버는 correlated subquery를 지원하지 않으므로 outer query에서 subquery 내의 column을 
참조할 수 없다.</li>
</ul>

<h4 id="search-구문">SEARCH 구문</h4>

<p>일반 데이터베이스와의 문법이 동일하다. 단, 반드시 keyword index를 등록해야 하며, 텍스트 검색을 위한 연산자 키워드인 “SEARCH”를 추가하여, 부가적인 검색 연산이 가능하다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- drop table realdual;</span>
<span class="k">create</span> <span class="k">table</span> <span class="n">realdual</span> <span class="p">(</span><span class="n">id1</span> <span class="nb">integer</span><span class="p">,</span> <span class="n">id2</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span> <span class="n">id3</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">));</span>
 
<span class="k">create</span> <span class="n">keyword</span> <span class="k">index</span> <span class="n">idx1</span> <span class="k">on</span> <span class="n">realdual</span> <span class="p">(</span><span class="n">id2</span><span class="p">);</span>
<span class="k">create</span> <span class="n">keyword</span> <span class="k">index</span> <span class="n">idx2</span> <span class="k">on</span> <span class="n">realdual</span> <span class="p">(</span><span class="n">id3</span><span class="p">);</span>
 
<span class="k">insert</span> <span class="k">into</span> <span class="n">realdual</span> <span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'time time2'</span><span class="p">,</span> <span class="s1">'series series2'</span><span class="p">);</span>
 
<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">realdual</span><span class="p">;</span>
 
<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">realdual</span> <span class="k">where</span> <span class="n">id2</span> <span class="k">search</span> <span class="s1">'time'</span><span class="p">;</span>
<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">realdual</span> <span class="k">where</span> <span class="n">id3</span> <span class="k">search</span> <span class="s1">'series'</span> <span class="p">;</span>
<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">realdual</span> <span class="k">where</span> <span class="n">id2</span> <span class="k">search</span> <span class="s1">'time'</span> <span class="k">and</span> <span class="n">id3</span> <span class="k">search</span> <span class="s1">'series'</span><span class="p">;</span>
</code></pre></div></div>

<p>수행 결과는 다음과 같다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Mach</span><span class="o">&gt;</span> <span class="k">create</span> <span class="k">table</span> <span class="n">realdual</span> <span class="p">(</span><span class="n">id1</span> <span class="nb">integer</span><span class="p">,</span> <span class="n">id2</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span> <span class="n">id3</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">));</span>
<span class="n">Created</span> <span class="n">successfully</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">create</span> <span class="n">keyword</span> <span class="k">index</span> <span class="n">idx1</span> <span class="k">on</span> <span class="n">realdual</span> <span class="p">(</span><span class="n">id2</span><span class="p">);</span>
<span class="n">Created</span> <span class="n">successfully</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">create</span> <span class="n">keyword</span> <span class="k">index</span> <span class="n">idx2</span> <span class="k">on</span> <span class="n">realdual</span> <span class="p">(</span><span class="n">id3</span><span class="p">);</span>
<span class="n">Created</span> <span class="n">successfully</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">realdual</span> <span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'time time2'</span><span class="p">,</span> <span class="s1">'series series2'</span><span class="p">);</span>
<span class="mi">1</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">inserted</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">realdual</span><span class="p">;</span>
<span class="n">ID1</span>         <span class="n">ID2</span>                   <span class="n">ID3</span>                  
<span class="c1">------------------------------------------------------------</span>
<span class="mi">1</span>           <span class="nb">time</span> <span class="n">time2</span>            <span class="n">series</span> <span class="n">series2</span> 
<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">realdual</span> <span class="k">where</span> <span class="n">id2</span> <span class="k">search</span> <span class="s1">'time'</span><span class="p">;</span>
<span class="n">ID1</span>         <span class="n">ID2</span>                   <span class="n">ID3</span>
<span class="c1">------------------------------------------------------------</span>
<span class="mi">1</span>           <span class="nb">time</span> <span class="n">time2</span>            <span class="n">series</span> <span class="n">series2</span>
<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">realdual</span> <span class="k">where</span> <span class="n">id3</span> <span class="k">search</span> <span class="s1">'series'</span><span class="p">;</span>
<span class="n">ID1</span>         <span class="n">ID2</span>                   <span class="n">ID3</span>
<span class="c1">------------------------------------------------------------</span>
<span class="mi">1</span>           <span class="nb">time</span> <span class="n">time2</span>            <span class="n">series</span> <span class="n">series2</span>
<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">realdual</span> <span class="k">where</span> <span class="n">id2</span> <span class="k">search</span> <span class="s1">'time'</span> <span class="k">and</span> <span class="n">id3</span> <span class="k">search</span> <span class="s1">'series'</span><span class="p">;</span>
<span class="n">ID1</span>         <span class="n">ID2</span>                   <span class="n">ID3</span>
<span class="c1">------------------------------------------------------------</span>
<span class="mi">1</span>           <span class="nb">time</span> <span class="n">time2</span>            <span class="n">series</span> <span class="n">series2</span>
<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
</code></pre></div></div>

<h4 id="esearch-구문">ESEARCH 구문</h4>

<p>ESEARCH 구문은 ASCII 문자 텍스트에 대한 확장 검색을 가능하게 해주는 검색 키워드이다. 이러한 확장을 위해 % 문자를 이용하여 원하는 패턴의 검색을 수행한다. 이 Like 연산에서 앞에 %가 오는 경우 모든 레코드를 검사해야 하지만, ESEARCH의 장점은 이 경우에도 빠르게 해당 단어를 찾을 수 있다는 데 있다. 이 기능은 영문 문자열(에러 문자열 혹은 코드)의 일부를 찾을 때 매우 유용하게 사용할 수 있다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="err">예제</span>
 
<span class="k">select</span> <span class="n">id2</span> <span class="k">from</span> <span class="n">realdual</span> <span class="k">where</span> <span class="n">id2</span> <span class="n">esearch</span> <span class="s1">'bbb%'</span><span class="p">;</span>
<span class="n">id2</span>
<span class="c1">--------------------------------------------</span>
<span class="n">bbb</span> <span class="n">ccc1</span>
<span class="n">aaa</span> <span class="n">bbb1</span>
 
<span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="err">검색</span> <span class="n">pattern</span> <span class="s1">'bbb%'</span><span class="err">에</span> <span class="err">의하여</span> <span class="n">bbb1</span><span class="err">도</span> <span class="err">검색</span> <span class="err">결과에</span> <span class="err">포함된다</span><span class="p">.</span>
 
 
<span class="k">select</span> <span class="n">id3</span> <span class="k">from</span> <span class="n">realdual</span> <span class="k">where</span> <span class="n">id3</span> <span class="n">esearch</span> <span class="s1">'%cd%'</span><span class="p">;</span>
<span class="n">id3</span>
<span class="c1">--------------------------------------------</span>
<span class="n">cdf</span> <span class="n">def1</span>
<span class="n">bcd</span><span class="o">/</span><span class="n">cdf1ad</span>
<span class="n">abc</span><span class="p">,</span> <span class="n">bcd1</span>
<span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="o">%</span> <span class="err">문자는</span> <span class="err">검색</span> <span class="n">pattern</span><span class="err">의</span> <span class="err">처음</span><span class="p">,</span> <span class="err">끝</span> <span class="err">뿐만</span> <span class="err">아니라</span> <span class="err">가운데에</span> <span class="err">있어도</span> <span class="err">동작한다</span><span class="p">.</span>
 
<span class="k">select</span> <span class="n">id3</span> <span class="k">from</span> <span class="n">realdual</span> <span class="k">where</span> <span class="n">id3</span> <span class="n">esearch</span> <span class="s1">'%cd%'</span><span class="p">;</span>
<span class="n">id3</span>
<span class="c1">--------------------------------------------</span>
<span class="n">cdf</span> <span class="n">def1</span>
<span class="n">bcd</span><span class="o">/</span><span class="n">cdf1ad</span>
<span class="n">abc</span><span class="p">,</span> <span class="n">bcd1</span>
<span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
</code></pre></div></div>

<h4 id="not-search-구문">NOT SEARCH 구문</h4>

<p>NOT SEARCH는 SEARCH구문에서 검색되는 조건 이외의 레코드들에 대해서 참을 리턴하는 구문이다.</p>

<p>NOT ESEARCH는 사용할 수 없다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">create</span> <span class="k">table</span> <span class="n">t1</span> <span class="p">(</span><span class="n">id</span> <span class="nb">integer</span><span class="p">,</span> <span class="n">i2</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">));</span>
<span class="k">create</span> <span class="n">keyword</span> <span class="k">index</span> <span class="n">t1_i2</span> <span class="k">on</span> <span class="n">t1</span><span class="p">(</span><span class="n">i2</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">t1</span> <span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'aaaa'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">t1</span> <span class="k">values</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'bbbb'</span><span class="p">);</span>
 
<span class="k">select</span> <span class="n">id</span> <span class="k">from</span> <span class="n">t1</span> <span class="k">where</span> <span class="n">i2</span> <span class="k">not</span> <span class="k">search</span> <span class="s1">'aaaa'</span><span class="p">;</span>
 
<span class="n">id</span>
<span class="c1">--------------------------------------------</span>
<span class="mi">2</span>
<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
</code></pre></div></div>

<h4 id="regexp-구문">REGEXP 구문</h4>

<p>REGEXP 구문은 정규표현식을 사용하여 데이터에 대한 검색을 수행하는데 사용된다. 일반적으로 특정 컬럼의 패턴을 정규표현식을 사용하여 데이터를 필터링하게 된다.</p>

<p>한가지 주의할 점은 REGEXP 구문을 사용할 경우 인덱스를 활용할 수 없기 때문에 전체 검색 범위를 줄이기 위해 반드시 다른 컬럼에 대한 인덱스 조건을 넣어서 전체적인 검색 비용을 낮춰야 한다.</p>

<p>특정 패턴을 검사하고자 할 때에는 SEARCH 혹은 ESEARCH를 통해 인덱스를 활용하도록 하고, 이를 통해 전체적인 데이터 건수가 작아진 상태에서 다시 REGEXP를 이용하는 것이 시스템 전체 효율 향상에 도움이 된다</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Mach</span><span class="o">&gt;</span>
<span class="k">create</span> <span class="k">table</span> <span class="n">realdual</span> <span class="p">(</span><span class="n">id1</span> <span class="nb">integer</span><span class="p">,</span> <span class="n">id2</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span> <span class="n">id3</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">));</span>
<span class="k">create</span> <span class="k">table</span> <span class="n">dual</span> <span class="p">(</span><span class="n">id</span> <span class="nb">integer</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">dual</span> <span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">realdual</span> <span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'time1'</span><span class="p">,</span> <span class="s1">'series1 series21'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">realdual</span> <span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'time2'</span><span class="p">,</span> <span class="s1">'series2 series22'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">realdual</span> <span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'time3'</span><span class="p">,</span> <span class="s1">'series3 series32'</span><span class="p">);</span>
 
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">realdual</span> <span class="k">where</span> <span class="n">id2</span> <span class="n">REGEXP</span> <span class="s1">'time'</span> <span class="p">;</span>
<span class="n">ID1</span>         <span class="n">ID2</span>                   <span class="n">ID3</span>                  
<span class="c1">------------------------------------------------------------</span>
<span class="mi">1</span>           <span class="n">time3</span>                 <span class="n">series3</span> <span class="n">series32</span>
<span class="mi">1</span>           <span class="n">time2</span>                 <span class="n">series2</span> <span class="n">series22</span>
<span class="mi">1</span>           <span class="n">time1</span>                 <span class="n">series1</span> <span class="n">series21</span>
<span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">realdual</span> <span class="k">where</span> <span class="n">id2</span> <span class="n">REGEXP</span> <span class="s1">'time[12]'</span> <span class="p">;</span>
<span class="n">ID1</span>         <span class="n">ID2</span>                   <span class="n">ID3</span>                  
<span class="c1">------------------------------------------------------------</span>
<span class="mi">1</span>           <span class="n">time2</span>                 <span class="n">series2</span> <span class="n">series22</span>
<span class="mi">1</span>           <span class="n">time1</span>                 <span class="n">series1</span> <span class="n">series21</span>
<span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">realdual</span> <span class="k">where</span> <span class="n">id2</span> <span class="n">REGEXP</span> <span class="s1">'time[13]'</span> <span class="p">;</span>
<span class="n">ID1</span>         <span class="n">ID2</span>                   <span class="n">ID3</span>                  
<span class="c1">------------------------------------------------------------</span>
<span class="mi">1</span>           <span class="n">time3</span>                 <span class="n">series3</span> <span class="n">series32</span>
<span class="mi">1</span>           <span class="n">time1</span>                 <span class="n">series1</span> <span class="n">series21</span>
<span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">realdual</span> <span class="k">where</span> <span class="n">id2</span> <span class="n">regexp</span> <span class="s1">'time[13]'</span> <span class="k">and</span> <span class="n">id3</span> <span class="n">regexp</span> <span class="s1">'series[12]'</span><span class="p">;</span>
<span class="n">ID1</span>         <span class="n">ID2</span>                   <span class="n">ID3</span>                  
<span class="c1">------------------------------------------------------------</span>
<span class="mi">1</span>           <span class="n">time1</span>                 <span class="n">series1</span> <span class="n">series21</span> 
<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">realdual</span> <span class="k">where</span> <span class="n">id2</span> <span class="k">NOT</span> <span class="n">REGEXP</span> <span class="s1">'time[12]'</span><span class="p">;</span>
<span class="n">ID1</span>         <span class="n">ID2</span>                   <span class="n">ID3</span>                  
<span class="c1">------------------------------------------------------------</span>
<span class="mi">1</span>           <span class="n">time3</span>                 <span class="n">series3</span> <span class="n">series32</span>
<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s1">'abcde'</span> <span class="n">REGEXP</span> <span class="s1">'a[bcd]{1,10}e'</span> <span class="k">from</span> <span class="n">dual</span><span class="p">;</span>
<span class="s1">'abcde'</span> <span class="n">REGEXP</span> <span class="s1">'a[bcd]{1,10}e'</span>
<span class="c1">---------------------------------</span>
<span class="mi">1</span>          
<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
</code></pre></div></div>

<h4 id="in-구문">IN 구문</h4>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">column_name</span> <span class="k">IN</span> <span class="p">(</span><span class="n">value1</span><span class="p">,</span> <span class="n">value2</span><span class="p">,...)</span>
</code></pre></div></div>

<p>IN 구문은 뒤의 value 리스트에서 만족할 경우 TRUE를 리턴한다. OR로 연결된 구문과 동일하다.</p>

<h4 id="in-구문과-subquery의-사용">IN 구문과 SUBQUERY의 사용</h4>

<p>조건절의 IN 구문의 오른쪽에 subquery를 사용할 수 있다. 단, IN 조건절의 왼쪽에는 컬럼 두 개 이상의 컬럼을 지정하면 오류로 처리하고 오른쪽의 subquery에서 리턴되는 결과 집합이 왼쪽 컬럼값에 존재하는지를 검사한다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">WHERE</span> <span class="n">i1</span> <span class="k">IN</span> <span class="p">(</span><span class="k">Select</span> <span class="n">c1</span> <span class="k">from</span> <span class="p">...)</span>
</code></pre></div></div>

<ul>
  <li>마크베이스 서버는 correlated subquery를 지원하지 않으므로 outer query에서 subquery 내의 column을 참조할 수 없다.</li>
</ul>

<h4 id="between-구문">BETWEEN 구문</h4>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">column_name</span> <span class="k">BETWEEN</span> <span class="n">value1</span> <span class="k">AND</span> <span class="n">value2</span>
</code></pre></div></div>

<p>BETWEEN 구문은 column의 값이 value1과 value2 범위에 있을 경우, TRUE를 리턴한다.</p>

<h4 id="range-구문">RANGE 구문</h4>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">column_name</span> <span class="n">RANGE</span> <span class="n">duration_spec</span><span class="p">;</span>

<span class="c1">-- duration_spec : integer (YEAR | WEEK | HOUR | MINUTE | SECOND);</span>
</code></pre></div></div>

<p>지정된 컬럼에 대해 시간 조건절을 쉽게 지정하는 Range 연산자를 제공한다. Range 연산자는 (BEFORE 키워드로 지정하는 것처럼) 특정 시점을 지정하는 게 아니라 현재 시점부터의 시간 범위를 연산의 대상 조건으로 지정한다. 이 연산자를 사용하면 손쉽게 원하는 시간 범위 내의 결과 레코드들을 검색할 수 있다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">test</span> <span class="k">where</span> <span class="n">id</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="k">and</span> <span class="n">c1</span> <span class="n">range</span> <span class="mi">1</span> <span class="n">hour</span><span class="p">;</span>
<span class="n">ID</span>          <span class="n">C1</span>                             
<span class="c1">-----------------------------------------------</span>
<span class="mi">1</span>           <span class="mi">2014</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">25</span> <span class="mi">09</span><span class="p">:</span><span class="mi">28</span><span class="p">:</span><span class="mi">53</span> <span class="mi">706</span><span class="p">:</span><span class="mi">707</span><span class="p">:</span><span class="mi">001</span>
<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
</code></pre></div></div>

<h2 id="group-by--having">GROUP BY / HAVING</h2>

<p>GROUP BY 절은 SELECT 문으로 검색한 결과를 특정 컬럼을 기준으로 그룹화하기 위해 사용하며, 그룹별로 정렬을 수행하거나 집계 함수를 사용하여 그룹별 집계를 구할 때 사용한다. 그룹이란 GROUP BY 절에 명시된 컬럼에 대해 동일한 컬럼 값을 가지는 레코드들을 의미한다.</p>

<p>GROUP BY 절 뒤에 HAVING 절을 결합하여 그룹 선택을 위한 조건식을 설정할 수 있다. 즉, GROUP BY 절로 구성되는 모든 그룹 중 HAVING 절에 명시된 조건식을 만족하는 그룹만 조회한다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="p">...</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="err">{</span> <span class="n">col_name</span> <span class="o">|</span> <span class="n">expr</span> <span class="err">}</span> <span class="p">,...[</span> <span class="k">HAVING</span> <span class="o">&lt;</span><span class="n">search_condition</span><span class="o">&gt;</span> <span class="p">]</span>
 
<span class="k">select</span> <span class="n">id1</span><span class="p">,</span> <span class="k">avg</span><span class="p">(</span><span class="n">id2</span><span class="p">)</span> <span class="k">from</span> <span class="n">exptab</span> <span class="k">where</span> <span class="n">id2</span> <span class="k">group</span> <span class="k">by</span> <span class="n">id1</span> <span class="k">order</span> <span class="k">by</span> <span class="n">id1</span><span class="p">;</span>
<span class="n">id1</span> <span class="err">컬럼을</span> <span class="err">기준으로</span> <span class="n">id2</span><span class="err">의</span> <span class="err">평균값을</span> <span class="err">구한다</span><span class="p">.</span>
</code></pre></div></div>

<h2 id="order-by">ORDER BY</h2>
<p>ORDER BY 절은 질의 결과를 오름차순 또는 내림차순으로 정렬하며, ASC 또는 DESC와 같은 정렬 옵션을 명시하지 않으면 디폴트로 오름차순으로 정렬한다. ORDER BY 절을 지정하지 않으면, 조회되는 레코드의 순서는 질의에 따라 다르다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="p">...</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="err">{</span><span class="n">col_name</span> <span class="o">|</span> <span class="n">expr</span><span class="err">}</span> <span class="p">[</span><span class="k">ASC</span> <span class="o">|</span> <span class="k">DESC</span><span class="p">]</span>
 
<span class="k">select</span> <span class="n">id1</span><span class="p">,</span> <span class="k">avg</span><span class="p">(</span><span class="n">id2</span><span class="p">)</span> <span class="k">from</span> <span class="n">exptab</span> <span class="k">where</span> <span class="n">id2</span> <span class="k">group</span> <span class="k">by</span> <span class="n">id1</span> <span class="k">order</span> <span class="k">by</span> <span class="n">id1</span><span class="p">;</span>
<span class="n">id1</span> <span class="err">컬럼을</span> <span class="err">기준으로</span> <span class="n">id2</span><span class="err">의</span> <span class="err">평균값을</span> <span class="err">구한다</span><span class="p">.</span>
</code></pre></div></div>

<h2 id="series-by">SERIES BY</h2>

<p>SERIES BY 절은 정렬된 결과집합을 SERIES BY 조건절을 만족하는 연속된 결과값들로 추출한다. 만약 ORDER BY 절이 지정되지 않은 경우에는 _ARRIVAL_TIME 컬럼값을 이용하여 정렬된 결과를 생성하므로, _ARRIVAL_TIME 컬럼이 없는 휘발성 테이블이나 참조 테이블에 대한 질의나, GROUP BY 절을 이용하는 경우에는 반드시 ORDER BY 절을 이용해야 한다.</p>

<p>조건절을 만족하는 결과값들은 같은 SERIESNUM() 함수의 반환값을 갖게 된다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">예를</span> <span class="err">들어</span> <span class="err">다음의</span> <span class="err">데이터에</span> <span class="err">대해서</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">T1</span> <span class="p">(</span><span class="n">C1</span> <span class="nb">INTEGER</span><span class="p">,</span> <span class="n">C2</span> <span class="nb">INTEGER</span><span class="p">);</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">T1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">T1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">T1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">T1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">T1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">T1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">T1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
 
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">T1</span> <span class="k">VALUES</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
 
 
<span class="err">아래의</span> <span class="err">질의는</span> <span class="err">다음의</span> <span class="err">결과를</span> <span class="err">출력한다</span><span class="p">.</span>
<span class="k">SELECT</span> <span class="n">C1</span><span class="p">,</span><span class="n">C2</span> <span class="k">FROM</span> <span class="n">T1</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">C1</span> <span class="n">SERIES</span> <span class="k">BY</span> <span class="n">C2</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">;</span>
<span class="n">C1</span>          <span class="n">C2</span>         
<span class="c1">---------------------------</span>
<span class="mi">1</span>           <span class="mi">2</span>          
<span class="mi">2</span>           <span class="mi">3</span>          
<span class="mi">3</span>           <span class="mi">2</span>          
<span class="mi">5</span>           <span class="mi">2</span>          
<span class="mi">6</span>           <span class="mi">3</span>   
 
<span class="n">C2</span> <span class="err">컬럼의</span> <span class="err">값이</span> <span class="mi">1</span> <span class="err">보다</span> <span class="err">큰</span> <span class="n">C1</span><span class="err">의</span> <span class="n">RANGE</span><span class="err">값을</span> <span class="err">알고</span> <span class="err">싶은</span> <span class="err">경우</span><span class="p">,</span> <span class="n">SERIESNUM</span> <span class="err">함수로</span> <span class="err">각</span> <span class="err">레코드가</span> <span class="err">어느</span> <span class="err">그룹에</span> <span class="err">포함되는지를</span> <span class="err">출력하여</span> <span class="n">RANGE</span><span class="err">를</span> <span class="err">결정할</span> <span class="err">수</span> <span class="err">있다</span><span class="p">.</span>
</code></pre></div></div>

<h2 id="limit">LIMIT</h2>

<p>LIMIT 절은 출력되는 레코드의 개수를 제한할 때 사용한다. 결과 집합의 특정 행부터 마지막 행까지 출력하기 위해 정수를 지정할 수 있다</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">LIMIT</span> <span class="p">[</span><span class="k">offset</span><span class="p">,]</span> <span class="k">row_count</span>
 
<span class="k">select</span> <span class="n">id1</span><span class="p">,</span> <span class="k">avg</span><span class="p">(</span><span class="n">id2</span><span class="p">)</span> <span class="k">from</span> <span class="n">exptab</span> <span class="k">where</span> <span class="n">id2</span> <span class="k">group</span> <span class="k">by</span> <span class="n">id1</span> <span class="k">order</span> <span class="k">by</span> <span class="n">id1</span> <span class="k">LIMIT</span> <span class="mi">10</span><span class="p">;</span>
</code></pre></div></div>

<p>DURATION
DURATION은 _arrival_time을 기준으로 데이터 검색 범위를 손쉽게 결정하도록 해 주는 키워드이다. BEFORE 구문과 함께 사용되어 특정 시점의 특정 데이터 범위를 설정하게 해 준다. 이 DURATION을 잘 활용하면 검색 성능을 현격하게 올림과 동시에 시스템 부하를 획기적으로 낮출 수 있다. 더 자세한 활용 용도는 다음을 참조한다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">DURATION</span> <span class="n">Number</span> <span class="n">TimeSpec</span> <span class="p">[</span><span class="k">BEFORE</span><span class="o">/</span><span class="k">AFTER</span> <span class="n">Number</span> <span class="n">TimeSpec</span><span class="p">]</span>
<span class="n">TimeSpec</span> <span class="p">:</span> <span class="nb">YEAR</span> <span class="o">|</span> <span class="k">MONTH</span> <span class="o">|</span> <span class="n">WEEK</span> <span class="o">|</span>  <span class="k">DAY</span> <span class="o">|</span> <span class="n">HOUR</span> <span class="o">|</span> <span class="k">MINUTE</span> <span class="o">|</span> <span class="k">SECOND</span>
</code></pre></div></div>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">create</span> <span class="k">table</span> <span class="n">t8</span><span class="p">(</span><span class="n">i1</span> <span class="nb">integer</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">t8</span> <span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="n">t8</span> <span class="k">values</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
 
<span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span><span class="p">;</span>
 
<span class="o">#</span> <span class="k">BEFORE</span> <span class="err">절</span> <span class="err">없이</span>
<span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">2</span> <span class="k">second</span><span class="p">;</span>
<span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="k">minute</span><span class="p">;</span>
<span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="n">hour</span><span class="p">;</span>
<span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="k">day</span><span class="p">;</span>
<span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="n">week</span><span class="p">;</span>
<span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="k">month</span><span class="p">;</span>
<span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="nb">year</span><span class="p">;</span>
 
<span class="o">#</span> <span class="n">DURATION</span> <span class="err">구문</span> <span class="err">전체를</span> <span class="err">써서</span>
<span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="k">second</span> <span class="k">before</span> <span class="mi">1</span> <span class="k">day</span><span class="p">;</span>
<span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="k">minute</span> <span class="k">before</span> <span class="mi">1</span> <span class="k">day</span><span class="p">;</span>
<span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="n">hour</span> <span class="k">before</span> <span class="mi">1</span> <span class="k">day</span><span class="p">;</span>
<span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="k">day</span> <span class="k">before</span> <span class="mi">1</span> <span class="k">day</span><span class="p">;</span>
<span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="n">week</span> <span class="k">before</span> <span class="mi">1</span> <span class="k">day</span><span class="p">;</span>
<span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="k">month</span> <span class="k">before</span> <span class="mi">1</span> <span class="k">day</span><span class="p">;</span>
<span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="nb">year</span> <span class="k">before</span> <span class="mi">1</span> <span class="k">day</span><span class="p">;</span>
</code></pre></div></div>

<p>수행 결과는 다음과 같다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Mach</span><span class="o">&gt;</span> <span class="k">create</span> <span class="k">table</span> <span class="n">t8</span><span class="p">(</span><span class="n">i1</span> <span class="nb">integer</span><span class="p">);</span>
<span class="n">Created</span> <span class="n">successfully</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">t8</span> <span class="k">values</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="mi">1</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">inserted</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">insert</span> <span class="k">into</span> <span class="n">t8</span> <span class="k">values</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="mi">1</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">inserted</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span><span class="p">;</span>
<span class="n">i1</span>         
<span class="c1">--------------</span>
<span class="mi">2</span>          
<span class="mi">1</span>          
<span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="o">#</span> <span class="k">BEFORE</span> <span class="err">절</span> <span class="err">없이</span>
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">2</span> <span class="k">second</span><span class="p">;</span>
<span class="n">i1</span>         
<span class="c1">--------------</span>
<span class="mi">2</span>          
<span class="mi">1</span>          
<span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="k">minute</span><span class="p">;</span>
<span class="n">i1</span>         
<span class="c1">--------------</span>
<span class="mi">2</span>          
<span class="mi">1</span>          
<span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="n">hour</span><span class="p">;</span>
<span class="n">i1</span>         
<span class="c1">--------------</span>
<span class="mi">2</span>          
<span class="mi">1</span>          
<span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="k">day</span><span class="p">;</span>
<span class="n">i1</span>         
<span class="c1">--------------</span>
<span class="mi">2</span>          
<span class="mi">1</span>          
<span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="n">week</span><span class="p">;</span>
<span class="n">i1</span>         
<span class="c1">--------------</span>
<span class="mi">2</span>          
<span class="mi">1</span>          
<span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="k">month</span><span class="p">;</span>
<span class="n">i1</span>         
<span class="c1">--------------</span>
<span class="mi">2</span>          
<span class="mi">1</span>          
<span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="nb">year</span><span class="p">;</span>
<span class="n">i1</span>         
<span class="c1">--------------</span>
<span class="mi">2</span>          
<span class="mi">1</span>          
<span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="o">#</span> <span class="n">DURATION</span> <span class="err">구문</span> <span class="err">전체를</span> <span class="err">써서</span>
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="k">second</span> <span class="k">before</span> <span class="mi">1</span> <span class="k">day</span><span class="p">;</span>
<span class="n">i1</span>         
<span class="c1">--------------</span>
<span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="k">minute</span> <span class="k">before</span> <span class="mi">1</span> <span class="k">day</span><span class="p">;</span>
<span class="n">i1</span>         
<span class="c1">--------------</span>
<span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="n">hour</span> <span class="k">before</span> <span class="mi">1</span> <span class="k">day</span><span class="p">;</span>
<span class="n">i1</span>         
<span class="c1">--------------</span>
<span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="k">day</span> <span class="k">before</span> <span class="mi">1</span> <span class="k">day</span><span class="p">;</span>
<span class="n">i1</span>         
<span class="c1">--------------</span>
<span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="n">week</span> <span class="k">before</span> <span class="mi">1</span> <span class="k">day</span><span class="p">;</span>
<span class="n">i1</span>         
<span class="c1">--------------</span>
<span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="k">month</span> <span class="k">before</span> <span class="mi">1</span> <span class="k">day</span><span class="p">;</span>
<span class="n">i1</span>         
<span class="c1">--------------</span>
<span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
 
<span class="n">Mach</span><span class="o">&gt;</span> <span class="k">select</span> <span class="n">i1</span> <span class="k">from</span> <span class="n">t8</span> <span class="n">duration</span> <span class="mi">1</span> <span class="nb">year</span> <span class="k">before</span> <span class="mi">1</span> <span class="k">day</span><span class="p">;</span>
<span class="n">i1</span>         
<span class="c1">--------------</span>
<span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">row</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="n">selected</span><span class="p">.</span>
</code></pre></div></div>

<h2 id="save-data">SAVE DATA</h2>

<p>질의의 결과를 CSV 데이터 파일로 바로 저장한다.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">SAVE</span> <span class="k">DATA</span> <span class="k">INTO</span> <span class="s1">'file_name.csv'</span> <span class="p">[</span><span class="n">HEADER</span> <span class="k">ON</span><span class="o">|</span><span class="k">OFF</span><span class="p">]</span> <span class="p">[(</span><span class="n">FIELDS</span> <span class="o">|</span> <span class="n">COLUMNS</span><span class="p">)</span> <span class="p">[</span><span class="n">TERMINATED</span> <span class="k">BY</span> <span class="s1">'char'</span><span class="p">]</span> <span class="p">[</span><span class="n">ENCLOSED</span> <span class="k">BY</span> <span class="s1">'char'</span><span class="p">]]</span> <span class="p">[</span><span class="n">ENCODED</span> <span class="k">BY</span> <span class="n">coding_name</span><span class="p">]</span> <span class="k">AS</span> <span class="k">select</span> <span class="n">query</span><span class="p">;</span>
</code></pre></div></div>

<p>옵션의 설명은 다음과 같다.</p>

<table>
  <thead>
    <tr>
      <th>옵션</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>HEADER (ON|OFF)</td>
      <td>생성할 csv 파일의 첫번째 라인에 컬럼명을 입력할지를 결정한다. 기본값은 OFF이다.</td>
    </tr>
    <tr>
      <td>(FIELDS|COLUMNS) TERMINATED BY ‘term_char’<br />ENCLOSED BY ‘escape_char’</td>
      <td>생성할 csv 파일의 컬럼 구분자와 이스케이프 구분자를 지정한다.</td>
    </tr>
    <tr>
      <td>ENCODED BY coding_name<br />coding_name = ( UTF8, MS949, KSC5601, EUCJP, SHIFTJIS, BIG5, GB231280 )</td>
      <td>출력 데이터 파일의 인코딩 포맷을 지정한다. 기본값은 UTF8이다.</td>
    </tr>
  </tbody>
</table>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">SAVE</span> <span class="k">DATA</span> <span class="k">INTO</span> <span class="s1">'/tmp/aaa.csv'</span> <span class="k">AS</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">t1</span><span class="p">;</span>
<span class="c1">-- select 문을 실행하여 그 결과를 '/tmp/aaa.csv' 파일에 csv 포멧으로 기록한다.</span>
  
<span class="n">SAVE</span> <span class="k">DATA</span> <span class="k">INTO</span> <span class="s1">'/tmp/ccc.csv'</span> <span class="n">HEADER</span> <span class="k">ON</span> <span class="n">FIELDS</span> <span class="n">TERMINATED</span> <span class="k">BY</span> <span class="s1">';'</span> <span class="n">ENCLOSED</span> <span class="k">BY</span> <span class="s1">'</span><span class="se">\'</span><span class="s1">'</span> <span class="n">ENCODED</span> <span class="k">BY</span> <span class="n">MS949</span> <span class="k">AS</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">t1</span> <span class="k">where</span> <span class="n">i1</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">;</span>
<span class="c1">-- select 문을 실행하여 그 결과를 /tmp/ccc.csv파일에 기록한다. 필드 구분자와 이스케이프 구분자를 각각 지정하고 저장되는 데이터의 인코딩은 MS949로 설정한다.</span>
</code></pre></div></div>


<script
  src="/kr/assets/js/jquery-3.3.1/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8= sha256-T+aPohYXbm0fRYDpJLr+zJ9RmYTswGsahAoIsNiMld4="
  crossorigin="anonymous"></script>

<script>
$(document).ready(function() {

    var toc = $('#TOC');

    // Select each header
    sections = $('.td-content h1');
        $.each(sections, function(idx, v) {
            section = $(v);
            var div_id = $(section).attr('id');
            var div_text = section.text().split('¶')[0];
            var parent = $("#" + div_id)
            var content = '<li id="link_' + div_id + '" class="md-nav__item"><a class="md-nav__link" href="#' + div_id + '" title="' + div_text +'">' + div_text +'</a></li>';
            $(toc).append(content);

            // Add section code to subnavigation
            var children = $('<nav class="md-nav"><ul class="md-nav__list"></nav></ul>')
            var contenders = $("#" + div_id).nextUntil("h1");
            $.each(contenders, function(idx, contender){
               if($(contender).is('h2') || $(contender).is('h3')) {
                   var contender_id = $(contender).attr('id');
                   var contender_text = $(contender).text().split('¶')[0];
                   var content = '<li class="md-nav__item"><a class="md-nav__link" href="#' + contender_id + '" title="' + contender_text +'">' + contender_text +'</a></li>';
                   children.append(content);
                }
             })
             $("#link_" + div_id).append(children);
        });
    });
</script>

<script>
var headers = ["h1", "h2", "h3", "h4"]
var colors = ["red", "orange", "green", "blue"]

$.each(headers, function(i, header){
    var color = colors[i];
    $(header).each(function () {
        var href=$(this).attr("id");
        $(this).append('<a class="headerlink" style="color:' + color + '" href="#' + href + '" title="Permanent link">¶</a>')
    });
})
</script>



	
              
              <!-- <style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<h5 class="feedback--title">Feedback</h5>
<p class="feedback--question">Was this page helpful?</p>
<button class="feedback--answer feedback--answer-yes">Yes</button>
<button class="feedback--answer feedback--answer-no">No</button>
<p class="feedback--response feedback--response-yes">
  Glad to hear it! Please <a href="https://github.com/machbase/dbms-manual/issues/new">tell us how we can improve</a>.
</p>
<p class="feedback--response feedback--response-no">
  Sorry to hear that. Please <a href="https://github.com/machbase/dbms-manual/issues/new">tell us how we can improve</a>.
</p>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof ga !== 'function') return;
    const args = {
      command: 'send',
      hitType: 'event',
      category: 'Helpful',
      action: 'click',
      label: window.location.pathname,
      value: value
    };
    ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(1);
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script><br/>

 -->
           </div>
          </main>
        </div>
      </div>
      <footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        <ul class="list-inline mb-0">  
          
            <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="" aria-label="Twitter" data-original-title="Twitter">
              <a class="text-white" target="_blank" href="https://twitter.com/machbase">
                <i class="fab fa-twitter"></i>
              </a>
            </li>
          
          
        </ul>
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        <ul class="list-inline mb-0">  
          <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="" aria-label="GitHub" data-original-title="GitHub">
            <a class="text-white" target="_blank" href="https://github.com/machbase/dbms-manual">
              <i class="fab fa-github"></i>
            </a>
          </li>
        </ul>
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">© 2023  All Rights Reserved</small>
        
      </div>
    </div>
  </div>
</footer>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<script src="/kr/assets/js/main.js"></script>

  </body>
</html>